(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/useLoadMore/index.mdx":function(e,t,n){"use strict";n.r(t);n("./node_modules/_antd@3.20.7@antd/es/avatar/style/index.js");var a=n("./node_modules/_antd@3.20.7@antd/es/avatar/index.js"),i=(n("./node_modules/_antd@3.20.7@antd/es/button/style/index.js"),n("./node_modules/_antd@3.20.7@antd/es/button/index.js")),l=(n("./node_modules/_antd@3.20.7@antd/es/list/style/index.js"),n("./node_modules/_antd@3.20.7@antd/es/list/index.js")),r=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/objectWithoutProperties.js"),b=n("react"),s=n.n(b),o=n("./node_modules/_@mdx-js_react@1.1.4@@mdx-js/react/dist/index.es.js"),A=n("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),g=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./src/useUpdateEffect/index.ts");function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=n.itemKey,i=n.initPageSize,l=void 0===i?10:i,r=n.formatResult,s=n.ref,o=n.threshold,A=void 0===o?100:o,d=n.incrementSize;d||(d=l);var j=Object(b.useState)(1),O=Object(g.a)(j,2),m=O[0],u=O[1],p=Object(b.useState)(),B=Object(g.a)(p,2),Q=B[0],D=B[1],C=Object(b.useState)([]),N=Object(g.a)(C,2),Y=N[0],E=N[1],f=Object(b.useState)(!1),M=Object(g.a)(f,2),T=M[0],h=M[1],y=Object(b.useState)(0),I=Object(g.a)(y,2),w=I[0],S=I[1],R=Object(b.useRef)(0),k=Object(b.useRef)((new Date).getTime()),x=Object(b.useCallback)(function(e,t){var n="function"===typeof a?a(e,t):e[a];return void 0===n?t:n},[a]),U=Object(b.useCallback)(function(){R.current+=1;var t=R.current;h(!0);var n={page:m,pageSize:1===m?l:d,offset:Y.length,startTime:k.current};a&&(n.id=Y.length>0?x(Y[Y.length-1],Y.length-1):void 0),e(n).then(function(e){if(t===R.current){h(!1);var n=r?r(e):e,a=n.total,i=n.data;E(Y.concat(i)),D(a)}})},[m,l,d,Y]),G=Object(b.useCallback)(function(){Q&&Y.length>=Q||(u(m+1),S(w+1))},[m,w,Y,Q]),F=Object(b.useCallback)(function(){u(1),E([]),k.current=(new Date).getTime(),S(w+1)},[w]),V=Object(b.useCallback)(function(){!T&&s&&s.current&&s.current.scrollHeight-s.current.scrollTop<=s.current.clientHeight+A&&G()},[T,s,G]);return Object(b.useEffect)(function(){return s&&s.current?(s.current.addEventListener("scroll",V),function(){s&&s.current&&s.current.removeEventListener("scroll",V)}):function(){}},[V]),Object(b.useEffect)(function(){return U(),function(){R.current+=1}},[w]),Object(c.a)(function(){F()},t),{data:Y,loading:T&&1===m,loadingMore:T&&m>1,reload:F,loadMore:G,total:Q,noMore:!!Q&&Y.length>=Q}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useLoadMore/index.ts"}}),"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useLoadMore/index.ts"}}),"undefined"!==typeof FnParams&&FnParams&&FnParams===Object(FnParams)&&Object.isExtensible(FnParams)&&Object.defineProperty(FnParams,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"FnParams",filename:"src/useLoadMore/index.ts"}}),d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useLoadMore",filename:"src/useLoadMore/index.ts"}}),n.d(t,"default",function(){return u});j="Demo";var j,O={},m="wrapper";function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)(m,Object.assign({},O,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"useloadmore"},"useLoadMore"),Object(o.b)("p",null,"\u4e00\u4e2a\u9002\u7528\u4e8e\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a\u6216\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a\u5e94\u7528\u573a\u666f\u7684 Hook\u3002"),Object(o.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(o.b)("h3",{id:"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"},"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"),Object(o.b)(A.c,{__position:0,__code:"() => {\n  const data = [\n    {\n      id: 1,\n      title: 'Ant Design Title 1',\n    },\n    {\n      id: 2,\n      title: 'Ant Design Title 2',\n    },\n    {\n      id: 3,\n      title: 'Ant Design Title 3',\n    },\n    {\n      id: 4,\n      title: 'Ant Design Title 4',\n    },\n    {\n      id: 5,\n      title: 'Ant Design Title 5',\n    },\n    {\n      id: 6,\n      title: 'Ant Design Title 6',\n    },\n    {\n      id: 7,\n      title: 'Ant Design Title 7',\n    },\n    {\n      id: 8,\n      title: 'Ant Design Title 8',\n    },\n    {\n      id: 9,\n      title: 'Ant Design Title 9',\n    },\n    {\n      id: 10,\n      title: 'Ant Design Title 10',\n    },\n  ]\n  const asyncFn = ({ pageSize, offset }) => {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          total: data.length,\n          data: data.slice(offset, offset + pageSize),\n        })\n      }, 1000)\n    })\n  }\n\n  const Demo = () => {\n    const {\n      data,\n      loading,\n      loadingMore,\n      reload,\n      loadMore,\n      total,\n      noMore,\n    } = useLoadMore(asyncFn, [], {\n      initPageSize: 3,\n      incrementSize: 4,\n      formatResult: result => ({ total: result.total, data: result.data }),\n    })\n\n    const renderFooter = () => {\n      return (\n        <>\n          {!noMore && (\n            <Button onClick={loadMore} loading={loadingMore}>\n              {loadingMore ? '\u52a0\u8f7d\u66f4\u591a' : '\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a'}\n            </Button>\n          )}\n\n          {noMore && <span>\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86</span>}\n\n          <span style={{ float: 'right', fontSize: 12 }}>\n            \u5171\u6709{total}\u6761\u8bb0\u5f55\n          </span>\n        </>\n      )\n    }\n\n    return (\n      <div>\n        <List\n          header={\n            <Button onClick={reload} loading={loading}>\n              \u91cd\u65b0\u52a0\u8f7d\n            </Button>\n          }\n          footer={!loading && renderFooter()}\n          loading={loading}\n          bordered\n          dataSource={data}\n          renderItem={item => (\n            <List.Item>\n              <List.Item.Meta\n                avatar={\n                  <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                }\n                title={<a>{item.title}</a>}\n                description=\"umijs/hooks is a react hooks library\"\n              />\n            </List.Item>\n          )}\n        />\n      </div>\n    )\n  }\n\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:A.c,useRef:b.useRef,useLoadMore:d,List:l.a,Button:i.a,Avatar:a.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGAxWaNCjVleUzVwiDCJgAAZSgOz1IVunI91JDgARyEkPJ6MY9BmK6SRVGwaj8PYKC6NsAglmvcIIlQJYAEFWGiVwjjIt12ncAh0DE9V2EDSV0Io01FTBVBdBRY5Tiw5wCESLF2G4CT1iiARnlQK52gABnYJMZiwdo92rGYOxYGdvIAFkC9gADZAuC9YwGAgAxb1oESbz-GcQ4EQdTAYKEfgliIahKDgMKESS6sUpoZwICwy52AARiikL5AsqypiUuZnPYCMoPIGwoHQMNUI5ZyxAG6MZHYFFHJgbhgGw-zFrgeQtxrYBhugMbggAMgO8ZEnmShml20bxu4G65TAZDJQGVB2nYAB-DY9rDCNJquS79tQTrqykGQqzfMwYQMzAwDCKApm-qaZqB3rl2rCxgHh7hpuAFcLG6441P6gBtHHtpJmtOHQK4WpC8nafGF5YG8pTMy1eAIBScxLAZ7oWpqumLCUMnXNR_muCuAAmGn-YsGICEZuVmamVn8g5qxufYcW-f5wWRfJ7HddpsX_Kl6XZfl9pFfYZX2c59Wky1umdel_XpYsI32qFmXuaZlm2dVrm5e6KKHdpp3-Zd12jYAVhN_mzeai3fZV23A_YKOQ_JsO6Yj6Wjbi2O6fjn2lb9lPYHijOayz2mc9Fyn2AAdgL2mi4VpObbV1OG8rgXm7Rz2KauAAOPua1bxOS-Tzvy6HnvUNH2u6aNgBOUevcD4urdL6fumXufq71gejZany1_pje28njuA_Lk_9-bgBdEm8f8RJLNS8wXMGvtXDSBqmqWOdMAREpjyEmpjYW0sugED6OYZ0YxoIympBGLocBKBQFYN0CBi9aYgK5kefYEYMZYwHhYVB6DMGDVIWPEQ8QrjoDUjgWAM4Jhn3Jgwggrh6GMLgFAWIMAIxAJAYAsAwDRzsAANQ_z_o1GAHI2ETQHkoVqPlVFvmlmAkmgNn7UGsqzMq_ViGQP5njHB7C1JnygPxAoljrEzkEjAM-XQrEdlsUxFiZ8IicKgGfVAlAHGjzQi5XiDF3FdAjK_d-il2CEwfksMxNY0AvGgr_GA_9mpJjPmgcgXQrwEHSVcD2BtyYpQEFEAgYp6SwyuKg0IsMEbfy8XQic8A6kEBwE0nx-NOE1NabDHAHDXATUCWDYphZUDWUnBkVKz4MiGPASQsZZDRywMRq7GsjAtrrLRgAQj8Q49gR01nbPJowOSNxmTUHsHwnYy0XECRYmhe5BQ7l2JSA4za1Ds7PPsSxN6cpAAFSoAX3jAAvZoALE0XreUAJ0OgBvxWBeC9ogMTmnMkOchSWztkcm0Usmu-y_lHMYJVdwYhACFNoASHNwWAAdTQAdsaADC5KQRLUBiGxci2sjL5oOVgMtKCYAXEEG8v0FIhBgqGmAgU1q4tUKfJxXTQAjopkuAJ0-QgBDc0AA3RgBVfS-bWDiYUmXUKkBium6jtYWSgSsgQ5gow4pjLIfVUkURas2B2DIy0tUJjRZc1A1zYjbGWs4_iTy3mvI7AUaVrLyaAFnEwADabArddqj1eqZVVy1SlEQLrgA7J-bOI5UyBAzLTQIb6SLkVZuDRFFIxaTleAEFObIWrBm5T6AiZagzK3bNzU2GARBlovC7Q0uNjB7XtM7UQQ1yLB3SRwCOnAepRyuDjeTVwqlOECFdUm9ZjAVJqSOJxcgfAQCEFuPcR4WEKo4HiBAMKrQPDqC2AQOAHxIiSDKZVdU8RJA6i1JYOi5B1BYCUmAVgABHDwWAAASqAABqAANewABNaDOAZgzn4OwTcC7k3rrjtzZajBXBiGAL2ogHTubyCkPhtt4bjjwByZe7sqB92hCIBATQkhhiUG2HYWwIQWlml8MITj7A-EeEyAIRI_AMPoaw9uIdU7aCjq1Vi6hUmN07ltWM41mdTW02gasxg-jhwqarsWqQyNQZmC_CAXdPEiKhIeUJESuB72AV0CBAwYE8IGSgqzeY4ZLKJCHUsEiOob13qWLxM8oiwu0XslkcLRF7DxCgB4CU2x4vERgKREyJpNT6XtLxAAqjMDhMBItgDvdl9oOAPSFeK1kMrd6_TgywOJNAtABDQ3ymKGBFrIPxAZIwEdiyLBZquF4dB4pUAqmrFmhxY3hDkim-sQZVwR2xOm8s-5VwjGsEoFwDbQn-JzYGgs9gu39vrDxV0ebE33AHc6VcVATHAhHAAD65HDJAZ06BpvYohvaNrGROvdB1DMejcBGCVLaUsIbxikkEBSTIpqr1HvPYyAd7JuT9DpJR-wJ7RAXsY_kwAaRgIkXHKJpyzne0QroVAa2rfk0sRzqOCcZFO5TgoH5kpCnKVD2GuOrXkywFcfnMl1indrg9vHaOBAHYsCtxo8n1vrHkAdroYBcfBdC5KRgYHLB6joheLt-gxD3bwKg4Yo1cf48J2YP7LWDKA46xKboH8UmZCIHYCOYU0is7t6FVJ4rbfo6ZKIkB_vQ_Vi4LjpEB2UTqQIPgmANvZe_Ysv9qYUMYZSgevR2idmHGQ76VMFySIYfyf6kiBsyUvIDTCp7-47B3fqW9HAU7iDIjUmL1UggYgpaYDuFcHzdBMD-aHUTOJTIwdPSb6D8HPfodK67f3swHJRfmqg_1mAg35PDbQ0YdggBcJUANOagA0ZUADwK7AeTrFMZwEnZPmeoGSUH2R_UT5LFKXzkvSwNdLAmJbugjkC5CfH5EEnsDProgdrAARJjibvVG_uAZQJARMtNusBAM0BGDsnAXkukpNLXDgdjm_i5PDojmkrIgdiyuMtZITL7o4vNKOGQQ_P1LxLFrQIwCHgIA2C1NztWHjITJ0ksHgrQlAMwcEkRGwTvpwQ2LwbjLolMITIMkIaOFqGpGITFpwuwWtg_A2LErwbfvITElmsoQQHZgUOoawZoTvuNotg2NDFAERPodWMYOwIAOXGgAbErRqADmRoADIR1-vIfBhhhMVAyEMkDBBAjgoRFhEhVhHBsuDYPkThFgLhHhgAQPqACm1oAO_RgAQjaABvpoAPF6_hBhEyUwaIXqbQmY4hGWYAEYiRaBzhh-gAAPon6AAhbrkYAC-pgAzEZFGBElEcqJ7J4sFEQkQRjwJWxZDfQnijjJ7fRJEH4UzsCACEVoAPD6gA0HKADf0YAGvK7ApOyQN-vR1kp4I6uxQxMAiWCQKWOwQuNYEYRGjOXaT-agkeAgkuOifR2wZOzkQsDkZ0zQRGJxN0Lk7Q90lk9GL070_xZOtxTOnA4YWAP0A0RGIQdgSIHIhMkJyQ_gIQqAiQD88uNYumFq7AHxyQgJH2UMaAuYEJcJ7AVwJJ-J1c6JD-uJUscxeMZRpx5xyWqWRCrxIsZRkRNAHwfQYYUwEiIB-JeMvQAgopgppeE4yEcpwpMp-g-JICZhM4EYqIDIcxchfRDebeVwLeje_UOCdBzcdB4qEYdBzkt0LU_ypBr-TUtJsJOS8B-Ssik0WJnBzcQio43CnCTCdAKQrCJMCewoyeVw4ZSe_If40popscau2myRh-XASxyxgAAOmACBkYAHkaAKgAAOaABwKoAABygAVHILH7HkwYGInMn4EkwGle44BpkuSDJBksJ4jTR-TvRHHMkRiDKKGMLMIhl4jmitRxLdKuBtnDnsCjk8EunIQUnfYMnJmGioDWmt5e4cgdKbBrkoIl4b6958lLyYHxn6BynsA7K3QCkVHtKnk0B1ljKElLYGyUbhEakpARj2GOH4kpnsCAA8FssWfi0r3j0XTHftLneUniIUsIrpBaoZwqhIYl_tEGLkLO9MhRUiXnuYeULL0oecidiYkD-eEfBa4H2YwroHEAQBGHBWpByLIbgtMSITRSKfoJYCIQxQLAxcorQakk_i_kjvQYQQgQAhOQ_GyYYfcgclUVyZcdsLyQjAQZgZ0ocsdK2UOQWGIC5J0g-XTE-cuSLCAmQeuWkJIq1JxeEXKTRTeWZTwZQUsLxWkEsCETQDBRYkON4uJfUXqZMvOPxJyUlnJQpdgiuEZakhGHZaFSoWpBGHoWqSujGUeMqaKf1GMfBQIluaeDMRZSAlZS5WKeZfZTEvlV5dpi4YAFBygAk0bAotGACdpoAKs2oF1BUwcAOS6CUAs6EwTgAVFxPJRiSlA0Wa7Ar272OyGuw1o1GuyV-gulOmm-BlVZmBU1kFOArVQgCQYGMA7MhAM5LSYA01Qpa17V7FMwtYLky1rFQp5AfC-gm121BVAB8AVu6As15MUlLE30C188Rhbyv-mWSw71XQpV_oDR7AgAQZqAA55mSntYADD_gAmEqABY8lVfCmCk1RFlFpKMFfvm7JgWNZlhNReRdSqfecYuTE-SdopUmSLG2kTaKeep2GeJgjQEOukIWu0EdQkCKhzR1aOMMC9fieTf1STNWXuc0DmplgdQQK9XNftStbkpQJgozfoCzc6GzdzVzW1QkJ1XzRZQLCuFTb3DEtzdrU4MDesC4YAFfKZKp-Z-MNgAaEaACgAYWKEewIABvKZ-uRMNgAskYI2-EKnmCVm0QNaY1C38nISfUriC1Hk6aKk3mS2SISn61FXBE3lm2g2D52Du2Fkw3RotL3Jo1ERFYlbB3UWh1k1-UdgR3VjKIZ1zHk21xKErijaHYhoziqXSJYJ2mxyzYsRXBDVHI2nTTUyR0V2LBN1HYeIriCErhXbNQ7I7IqVHLqXBmaXaXQWq7p6oCWbWa1bF0Y0EDCRwkdJaAUDAT6AMCeb2hQTo3laSjpYkSIVsSUSKj1F4y731b71XA_EwDnRB372GKZa31hG12KXFHWS2ANDP4xDxDMQu1VEjHalyLeV_1ANY2k2cCYEQNQMQAwNx2QXS1uxwCQMvA4MdV4OXXylfkwAMnQgOHdA4KAN3pV1abV0wUwB3C8FU3NbiTZ5tK0RF0f1APTaWZVTbCpL_hoJb3aCubn1gQRz8CoDeiMhIDsD8A_DFjVAZDmg_hkjKNSz8CYICD5DUD8BXD8A-Q4AWM-QlTrD8DlC0YoGmOqMgBKTzR4Tlw6PlyD5WKJC5h5AFC8aSjmjqN_Clg2PVj8BRBoBOP8COYSPhMWB2PsOj7wgQDwBOO1z8BmSiAqP8AAB6LUcUOAQ8OAcUCTNY_AOk6AMTIAeTSYOA4sFjLU5TiTggmolokQNTBTRTJTZTIAqu9u29oTuAugkAKQEj1ALmZ9oEIA2MIA8mZIWQpjajpotA5o2T5oswMw_A8gCg8g8gQAA",mdxType:"Playground"},function(){var e=[{id:1,title:"Ant Design Title 1"},{id:2,title:"Ant Design Title 2"},{id:3,title:"Ant Design Title 3"},{id:4,title:"Ant Design Title 4"},{id:5,title:"Ant Design Title 5"},{id:6,title:"Ant Design Title 6"},{id:7,title:"Ant Design Title 7"},{id:8,title:"Ant Design Title 8"},{id:9,title:"Ant Design Title 9"},{id:10,title:"Ant Design Title 10"}],t=function(t){var n=t.pageSize,a=t.offset;return new Promise(function(t){setTimeout(function(){t({total:e.length,data:e.slice(a,a+n)})},1e3)})};return Object(o.b)(function(){var e=d(t,[],{initPageSize:3,incrementSize:4,formatResult:function(e){return{total:e.total,data:e.data}}}),n=e.data,r=e.loading,b=e.loadingMore,A=e.reload,g=e.loadMore,c=e.total,j=e.noMore;return Object(o.b)("div",null,Object(o.b)(l.a,{header:Object(o.b)(i.a,{onClick:A,loading:r,mdxType:"Button"},"\u91cd\u65b0\u52a0\u8f7d"),footer:!r&&Object(o.b)(s.a.Fragment,null,!j&&Object(o.b)(i.a,{onClick:g,loading:b,mdxType:"Button"},b?"\u52a0\u8f7d\u66f4\u591a":"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"),j&&Object(o.b)("span",null,"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),Object(o.b)("span",{style:{float:"right",fontSize:12}},"\u5171\u6709",c,"\u6761\u8bb0\u5f55")),loading:r,bordered:!0,dataSource:n,renderItem:function(e){return Object(o.b)(l.a.Item,null,Object(o.b)(l.a.Item.Meta,{avatar:Object(o.b)(a.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",mdxType:"Avatar"}),title:Object(o.b)("a",null,e.title),description:"umijs/hooks is a react hooks library"}))},mdxType:"List"}))},{mdxType:"Demo"})}),Object(o.b)("h3",{id:"\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a"},"\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a"),Object(o.b)(A.c,{__position:1,__code:"() => {\n  const data = [\n    {\n      id: 1,\n      title: 'Ant Design Title 1',\n    },\n    {\n      id: 2,\n      title: 'Ant Design Title 2',\n    },\n    {\n      id: 3,\n      title: 'Ant Design Title 3',\n    },\n    {\n      id: 4,\n      title: 'Ant Design Title 4',\n    },\n    {\n      id: 5,\n      title: 'Ant Design Title 5',\n    },\n    {\n      id: 6,\n      title: 'Ant Design Title 6',\n    },\n    {\n      id: 7,\n      title: 'Ant Design Title 7',\n    },\n    {\n      id: 8,\n      title: 'Ant Design Title 8',\n    },\n    {\n      id: 9,\n      title: 'Ant Design Title 9',\n    },\n    {\n      id: 10,\n      title: 'Ant Design Title 10',\n    },\n  ]\n  const asyncFn = ({ pageSize, offset }) => {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          total: data.length,\n          data: data.slice(offset, offset + pageSize),\n        })\n      }, 1000)\n    })\n  }\n\n  const Demo = () => {\n    const containerRef = useRef()\n    const { data, loading, loadingMore, reload, total, noMore } = useLoadMore(\n      asyncFn,\n      [],\n      {\n        initPageSize: 4,\n        incrementSize: 3,\n        ref: containerRef,\n      },\n    )\n\n    const renderFooter = () => {\n      return (\n        <>\n          {!noMore && (\n            <Button loading={loadingMore}>\n              {loadingMore ? '\u52a0\u8f7d\u66f4\u591a' : '\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a'}\n            </Button>\n          )}\n          {noMore && <span>\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86</span>}\n          <span style={{ float: 'right', fontSize: 12 }}>\n            \u5171\u6709{total}\u6761\u8bb0\u5f55\n          </span>\n        </>\n      )\n    }\n\n    return (\n      <div ref={containerRef} style={{ height: 300, overflowY: 'auto' }}>\n        <List\n          header={\n            <Button onClick={reload} loading={loading}>\n              \u91cd\u65b0\u52a0\u8f7d\n            </Button>\n          }\n          footer={!loading && renderFooter()}\n          loading={loading}\n          bordered\n          dataSource={data}\n          renderItem={item => (\n            <List.Item>\n              <List.Item.Meta\n                avatar={\n                  <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                }\n                title={<a>{item.title}</a>}\n                description=\"umijs/hooks is a react hooks library\"\n              />\n            </List.Item>\n          )}\n        />\n      </div>\n    )\n  }\n\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:A.c,useRef:b.useRef,useLoadMore:d,List:l.a,Button:i.a,Avatar:a.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGAxWaNCjVleUzVwiDCJgAAZSgOz1IVunI91JDgARyEkPJ6MY9BmK6SRVGwaj8PYKC6NsAglmvcIIlQJYAEFWGiVwjjIt12ncAh0DE9V2EDSV0Io01FTBVBdBRY5Tiw5wCESLF2G4CT1iiARnlQK52gABnYJMZiwdo92rGYOxYGdvIAFkC9gADZAuC9YwGAgAxb1oESbz-GcQ4EQdTAYKEfgliIahKDgMKESS6sUpoZwICwy52AARiikL5AsqypiUuZnPYCMoPIGwoHQMNUI5ZyxAG6MZHYFFHJgbhgGw-zFrgeQtxrYBhugMbggAMgO8ZEnmShml20bxu4G65TAZDJQGVB2nYAB-DY9rDCNJquS79tQTrqykGQqzfMwYQMzAwDCKApm-qaZqB3rl2rCxgHh7hpuAFcLG6441P6gBtHHtpJmtOHQK4WpC8nafGF5YG8pTMy1eAIBScxLAZ7oWpqumLCUMnXNR_muCuAAmGn-YsGICEZuVmamVn8g5qxufYcW-f5wWRfJ7HddpsX_Kl6XZfl9pFfYZX2c59Wky1umdel_XpYsI32qFmXuaZlm2dVrm5e6KKHdpp3-Zd12jYAVhN_mzeai3fZV23A_YKOQ_JsO6Yj6Wjbi2O6fjn2lb9lPYHijOayz2mc9Fyn2AAdgL2mi4VpObbV1OG8rgXm7Rz2KauAAOPua1bxOS-Tzvy6HnvUNH2u6aNgBOUevcD4urdL6fumXufq71gejZany1_pje28njuA_Lk_9-bgBdEm8f8RJLNS8wXMGvtXDSBqmqWOdMAREpjyEmpjYW0sugED6OYZ0YxoIympBGLocBKBQFYN0CBi9aYgK5kefYEYMZYwHhYVB6DMGDVIWPEQ8QrjoDUjgWAM4Jhn3Jgwggrh6GMLgFAWIMAIxAJAYAsAwDRzsAANQ_z_o1GAHI2ETQHkoVqPlVFvmlmAkmgNn7UGsqzMq_ViGQP5njXQnC0AZBIv1XiJFvpCzxjg9hakz5QH4gUFxbiZyCRgGfLoriOxnwiJwqAZ9UCUG8aPNCLleIMSYixCMr936KXYITB-SxHE1jQC8aCv8YD_2ah7A25M0DkC6FeAg-SrhJl8TAMAv1gKuAsQIEikSwZFMLKgayk4MipWfBkQx4CSHtLIaOWBiNXY1kYFtCZaMACEYTvHsCOuMmZ5NGByRuMyfxEUUjLW2QUbxm1qHZ32V4lib05SAAKlQAvvGABezQAWJovW8oAKDlACTRjch57RAarLWZIDZClpkzI5N8n5wAFnnOWYwSq7gxCAEKbQAkOYPMAA6mgA7Y0AGFyUhoWoDECC1ZUKwrmAWrAZaUEwD-IIN5foKRCDBUNMBSprVxaoSOcM_mgBHRXhcAIJ8R5CAENzQADdGAFV9Y5tYOIEsBdLKQErabqO1hZKBoyBDmCjKymMHAuhgGWmYxpzpmm1LQkSpawAoKbHZoQKpqjAGYIEGS0YABNbyYQIgvXkCyvFUkUQis2B2DIy0RUJn-cyag9g-E7GWn4_iaFTm7OANGt1PzyaAFnEwADaY3P9aKwN2KRW4pmSlEQvrgCzOjUs463SBC9PzQIb6OaJnRr2Z4lINbXZeAEFObIIqOGuFyn0BEy1O1NoVeGAQTYYBEGWi8UdCMVUJoTB6ggOAR1EGle66SC7aBEBwHqUcrh03k1cKpThAg_WsrxSpNSRxOLkD4CAQgtx7iPCwhVHA8QIBhVaB4dQWwCBwA-JESQAgiCVXVPESQOotSWDouQdQWAlJgFYAARw8FgAAEqgAAagADXsHajDOAZgzn4OwTcu6q4kfXsS4AjBXBiGABOjd8d5BSGowOn55RSmvu7Kga9oQiAQE0JIYYlBth2FsCECcmpfDCGE-wPhHhMgCESPwEjxGT20ykHOtdo7l382BdQlTEzgaxiFrKzO8rabQLGYwfRw59NVxBVIZGoMzBfhAJeniRFYkCRYsJcMuBv2ATMfoBgeEDJQVZvMcMllEhzqWCRHUH6v1LF4meURiXaL2SyEloi9h4hQA8BKbYWXiK1NQiZE0mp9L2l4gAVRmBwmAKWwBfrK-0HAHoat1ayI1r9fpwZYHEmgWgNqJTdDFDApVaH4gMkYIuoZFho1XC8Og8UqAVTVmjd4xbwhySrfWJ2q4i7UlrZGdsq4RjWCUC4MdmT_FNsDUGewC7V31jgq6Ft5b7hrvcqgFcVAPHAhHAAD65HDJAZ06A1vaOdP1gyg2MjQ3yjqGYnG4CMDFPSWGSxZvGKyQQHJMimqvV-_9jI12SllP0Pkon7A_tEAB2T9dABpGAiRqcomnLOYHRCuhUFbQd9dSwRJYGJ3TjID32cFA_MlIUUQCDo9CLDan06azC8MvABXMl1gPdrt9kX9OVz7caOuo76x5DXY1dTuLCXJSMGQ5YPUdELyjv0GIL7eBUHDFGtT2n-uAYWQhvaOHw38ofxyZkQDxiwppD16T9YUe8myJjwIa7QjRxJ7J-ganSJrsonUgQfBMBvck-T2YKHAephQxhlKB6nHaKee8Wj9XsN-pIix-ulvqBEgNmSl5AaYVw_3HYKH9S3o4APcQZEakjeMcEDEFLTAdwrjhboJgKLc6iZpKZMjp6g-kco-nxrtvWmQociuGN2Bk2oDTexxHYw7BAC4SoAac1ABoyoAHgV2A8nWA4zgTOWeC9QNkrkvkv1CfEsClABtEPLpjuJmAEsBMB7ugjkC5CfH5FEnsNvrotdrAAROTs7vVLIqVi5JQBgZ0mtusBAM0BGLMrgeUvkpNLXDQZTgQS5Ljvjgnk1NdlDrjLolMITPHksCAmwQ_NYkRBlrQIwD7hkA2C1FLtWHjITN9gIaOJYLQlAMIdEqIZwuIZIQIA2LIdwZ0rwZ2kodqGpOoelloTADNsbg_A2KkrIV_jwSktGiYZ5gUOYbxGIVYUtjtg2NDFAERA4dWHfoAOXGgAbEopqADmRoADIRH-vIchThhMVAyEMk80o4jgKRHhmhWQEhxeDYPkQRFgoRYRgAQPqACm1oAO_RgAQjaABvpoAPF6cRjhhhE4yEGRmYGhxWYAEYBRZBwRRg7AgAAPqP6AAhbjUYAC-pgAzEaNEJHNG57CgF4iGdERjwJWxZDfQnjKH8gCIciFFEb9FcDsCACEVoAPD6gA0HKADf0YAGvK7AzOyQn-Mx1kp4i6txixOWCQ-WOwyuFgEYdG_Oo6_-agSe2uOizR2wLOzkQsDkZ0zQdGLxN0Lk7Q90lknGL070sJLOPxAunAvmP0A0dGIQdgSIHIhM6JyQ_gIQneD8125MFmSq7AYJyQ8JIOUMFiOQaJvm7AVwDJ1J88K4JJv-iQm-1YuxeMaIn8tEbxeWBWRCwJIsYpbR86vQAgYYUwEiyBPJpifQKpCp_U8pbQNAHwWp-gPJICbhM4EYqIDIuxBh1k_eo-Vww-A-_UOC_BJM8eDKEY8ezkt0LUFyrBQBBBVwjB-BTUk05JOhzcqeFK-MnCTCdAKQrCJMcx-eWxVwyZBehpyp-gscZuZmRR-xOQJxgAAOmACBkYAHkalygAAOaABwKoAABygAVHIUzTHFKUGkn0Fukj6AY4AHEuSdpxksJ4jTR-TvRPECkRidqEx9nMIJl4jmitRpIxmuD9kznsBzkyGcnMm1Ksk8lcE1hgCoCemdlj44ATB0Dc5N7RlQEECylLyUFKnan6lTCzK3R6kpGZkqntntK0m7YGxNqmkNoRj-GBE8n5nsCAA8Fscc_uJjPs2bTN_rrj0EaTQCocEksIbvefoFqATGgYBTLpAReULO9OAbLleSgheSZrTFcKghrmGYSZ3iBWkaYZwuOYwroHEAQBGBhTQFhZwjsQxXgqoZxUhfnqofoVXGJconwbkv_oAQTj4tiaUngRUrImhWYSKU4dsosh0ZKR8dsDKQjAwZQd9iWoucuQWGIC5N9p-XTN-TuSuIIbkoeWkJIq1GJRYCAgqZxY-S5TIZwUsFJWkEsMkTQKpZwnAaoQ_Opc0RGh2K8blrpfpdgvZaOGwRGL5clUxa4BGPYSaYeimUeO-S6C5CsTxdsRsfldsSaekY-V5SkT5RJf5cFQQJFb0aBW8jcsMYAJ2mgAqzawV4xwClLoJQBboTBOBxXvHSlGKGUDTFqA7A6zIarsBzXsALW1KFU0DWXmaKo_mmYiwUEDQarrXzoDVCAJDIYwBmpTBzmHVcXHWDUJAqEzC1guQ3XCUfB8L6DnWXUuXwHwCe7oCbXkyaXxJuWoSm7-UuEwFLDA1dAtVmZ36ABBmoADnm8KMBgAMP-ACYSoAFjy7Vdy9ysFyWqWkoiVc2mSlBq1zQy1FNR1gNNY3592BluZIsOar1WZBp4UZ4mCNAc66QVa7QJ1Q1tKAtCQI1wwANPJ9NU1JM-1ZFzQyyrNH5xiNla1t1oYo6lAmCnN-gPNuqj4wtUAQt91w1o4YtoNAsK4TNvcKS-totTgcN_ofR7AgAV8rwpP7P5o2ABoRoAKABhYdVgAG8rP41Fo2ACyRljTES0eYPcRYITU1sTVLXKchN9BLdtQzUlQbK-QabdZIuqRbX5Skk1fbesHfgvnYAHdWWjSmuJtsgTURLVvVt1nHTeXTfOPxEneDccDAHcLsfTbXMYSuAtjdh2AUCZV6UydTP3Q2ndsWssl6dNOPXKS3QEhPXEl0LHIoSuK9s1LMrMsZcslOfGeZZZaoVLEzYDC5m5h1vXUTQQD5moCeVoBQMBEFmBCFvaFBDHWljYiVppBhGZC-L0XjJfV1tfVcFCTAOdLRA3VMF_LUrHakSXU3XjLYA0AATEPEMxHVR0bYpaXIq1ZA9fSTUrZwK2XACgy8BAOg4-TTUQ27KQ6gxQ8NVQ1nS5EBTADudCAEd0DgrA1-m3cze3Qg5Dr0eXh3dDBrrRHXcA3A2ti5lVNsLkv-GgqgAFk_aBCABHPwKgN6IyEgOwPwD8MWNUBkOaD-GSDo1LPwNavkNQPwFcPwD5DgA4z5CVOsPwGxv0CQbY3oyAEpPNHhOXKY-XAvq4okLmHkMPX_eaAY38KWC49WPwFEGgF4_wELoo3ExYG453SvvCBAPAF47XPwH_ckyAAAHotRxQ4BDw4BxTpM1j8A6ToDFMlNJg4DiwOMtS1MZOCCaiWiRBNPlOVPVNKbViAzyDn0xO4C6CQApCKPUAqN6BqPYwgDrpkhZC2P6Omi0DmiROzAzD8BjOuryBAA",mdxType:"Playground"},function(){var e=[{id:1,title:"Ant Design Title 1"},{id:2,title:"Ant Design Title 2"},{id:3,title:"Ant Design Title 3"},{id:4,title:"Ant Design Title 4"},{id:5,title:"Ant Design Title 5"},{id:6,title:"Ant Design Title 6"},{id:7,title:"Ant Design Title 7"},{id:8,title:"Ant Design Title 8"},{id:9,title:"Ant Design Title 9"},{id:10,title:"Ant Design Title 10"}],t=function(t){var n=t.pageSize,a=t.offset;return new Promise(function(t){setTimeout(function(){t({total:e.length,data:e.slice(a,a+n)})},1e3)})};return Object(o.b)(function(){var e=Object(b.useRef)(),n=d(t,[],{initPageSize:4,incrementSize:3,ref:e}),r=n.data,A=n.loading,g=n.loadingMore,c=n.reload,j=n.total,O=n.noMore;return Object(o.b)("div",{ref:e,style:{height:300,overflowY:"auto"}},Object(o.b)(l.a,{header:Object(o.b)(i.a,{onClick:c,loading:A,mdxType:"Button"},"\u91cd\u65b0\u52a0\u8f7d"),footer:!A&&Object(o.b)(s.a.Fragment,null,!O&&Object(o.b)(i.a,{loading:g,mdxType:"Button"},g?"\u52a0\u8f7d\u66f4\u591a":"\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a"),O&&Object(o.b)("span",null,"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),Object(o.b)("span",{style:{float:"right",fontSize:12}},"\u5171\u6709",j,"\u6761\u8bb0\u5f55")),loading:A,bordered:!0,dataSource:r,renderItem:function(e){return Object(o.b)(l.a.Item,null,Object(o.b)(l.a.Item.Meta,{avatar:Object(o.b)(a.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",mdxType:"Avatar"}),title:Object(o.b)("a",null,e.title),description:"umijs/hooks is a react hooks library"}))},mdxType:"List"}))},{mdxType:"Demo"})}),Object(o.b)("h2",{id:"api"},"API"),Object(o.b)("pre",null,Object(o.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean,\n  loadingMore: boolean,\n  data: any[],\n  reload: () => void,\n  loadMore: () => void,\n  noMore: boolean,\n  total: number,\n} = useLoadMore(params);\n\nparams:(\n  service: ({page, pageSize, offset, id, startTime}) => Promise<Result>,\n  deps?: DependencyList = [],\n  options?: {\n    initPageSize?: number,\n    incrementSize?: number,\n    itemKey?: string | ((record: Item, index: number) => string),\n    formatResult?: (x: Result) => ({\n      total: number,\n      data: Item[]\n    }),\n    ref?: RefObject<HTMLElement>,\n    threshold?: number\n  }\n)\n")),Object(o.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u7b2c\u4e00\u6b21\u52a0\u8f7d\u4e2d"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"loadingMore"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u52a0\u8f7d\u66f4\u591a\u4e2d"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5168\u90e8\u5217\u8868\u6570\u636e"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"reload"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u91cd\u65b0\u52a0\u8f7d\u51fd\u6570"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"loadMore"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u52a0\u8f7d\u66f4\u591a\u51fd\u6570"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"noMore"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"total"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6570\u636e\u603b\u91cf"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number","|","undefined"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))),Object(o.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6570\u636e\u7684\u51fd\u6570\uff0c\u51fd\u6570\u53c2\u6570\u89c1 Params"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"(Params)=> Promise"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4\uff0c\u5982\u679c deps \u53d8\u5316\uff0c\u4f1a\u89e6\u53d1 reload"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))),Object(o.b)("h3",{id:"params"},"Params"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"page"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u7b2c\u51e0\u9875\u6570\u636e\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u7684 initPageSize \u4e0d\u7b49\u4e8e incrementSize\uff0c\u90a3 page \u5bf9\u4f60\u6ca1\u6709\u610f\u4e49\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 offset"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"pageSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6570\u636e\u6570\u91cf\uff0c\u7b2c\u4e00\u9875\u7b49\u4e8e initPageSize\uff0c\u975e\u7b2c\u4e00\u9875\u7b49\u4e8e incrementSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"offset"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6570\u636e\u504f\u79fb\u91cf\uff0c\u4e5f\u5c31\u662f\u5f53\u524d\u5df2\u7ecf\u5b58\u5728\u591a\u5c11\u6761\u6570\u636e\u4e86"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"id"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6700\u540e\u4e00\u6761\u6570\u636e\u7684 id\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 itemKey \u540e\u624d\u4f1a\u5b58\u5728"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"string"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"startTime"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f00\u59cb\u65f6\u95f4\u6233\uff0c\u7b2c\u4e00\u6b21\u52a0\u8f7d\u6216\u6bcf\u6b21 reload \u65f6\u8bb0\u5f55"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))),Object(o.b)("h3",{id:"options"},"Options"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(o.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"initPageSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u7b2c\u4e00\u9875\u7684 pageSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"10")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"incrementSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u975e\u7b2c\u4e00\u9875\u7684 pageSize\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\uff0c\u5219\u7b49\u4e8e initPageSize"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"itemKey"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6570\u636e id\uff0c\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u4e00\u4e2a\u51fd\u6570"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"`string"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"((record: Item, index: number) => string)`")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"formatResult"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u683c\u5f0f\u5316 service \u8bf7\u6c42\u7ed3\u679c"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"(x: Result) => ({ total: number, data: Item[]})")),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"ref"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5bb9\u5668\u7684 ref\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u5728\u6eda\u52a8\u5230\u5e95\u90e8\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1 loadMore"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"RefObject<HTMLElement>")),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"threshold"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4e0b\u62c9\u81ea\u52a8\u52a0\u8f7d\uff0c\u8ddd\u79bb\u5e95\u90e8\u8ddd\u79bb\u9608\u503c"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(o.b)("td",Object.assign({parentName:"tr"},{align:null}),"100")))),Object(o.b)("h2",{id:"\u5907\u6ce8"},"\u5907\u6ce8"),Object(o.b)("p",null,"\u5728\u52a0\u8f7d\u66f4\u591a\u7684\u573a\u666f\u4e2d\uff0c\u540e\u53f0\u6570\u636e\u53ef\u80fd\u4e00\u76f4\u5728\u589e\u52a0\uff0c\u5982\u679c\u6211\u4eec\u7528\u666e\u901a\u7684\u5206\u9875\u6765\u5904\u7406\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u91cd\u590d\u7684\u6570\u636e\u3002\u5e38\u89c1\u7684\u52a0\u8f7d\u66f4\u591a\u573a\u666f\u4f1a\u6709\u4ee5\u4e0b\u51e0\u79cd\u5904\u7406\u6570\u636e\u5206\u9875\u65b9\u5f0f\uff1a"),Object(o.b)("p",null,"\u666e\u901a\u6a21\u5f0f\uff1a\u6570\u636e\u4e0d\u4f1a\u66f4\u65b0\uff0c\u603b\u6570\u662f\u56fa\u5b9a\u7684\u3002\u8fd9\u79cd\u573a\u666f\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 Demo \u4e2d\u4f8b\u5b50\uff0c\u4f7f\u7528 ",Object(o.b)("inlineCode",{parentName:"p"},"page"),"\uff0c",Object(o.b)("inlineCode",{parentName:"p"},"pageSize"),"\uff0c",Object(o.b)("inlineCode",{parentName:"p"},"offset")," \u7b49\u76f4\u63a5\u5411\u540e\u7aef\u670d\u52a1\u7aef\u8bf7\u6c42\u6570\u636e\u3002"),Object(o.b)("p",null,"id \u6a21\u5f0f\uff1a\u6570\u636e\u4f1a\u4e00\u76f4\u66f4\u65b0\uff0c\u6bcf\u4e2a\u6570\u636e\u6709\u552f\u4e00 id\u3002\u6211\u4eec\u53bb\u670d\u52a1\u7aef\u8bf7\u6c42\u6570\u636e\u65f6\uff0c\u5e94\u8be5\u662f\u8bf7\u6c42\u5f53\u524d\u6700\u540e\u4e00\u6761\u6570\u636e\u540e\u9762\u7684 ",Object(o.b)("inlineCode",{parentName:"p"},"pageSize")," \u6761\u6570\u636e\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u5b9a\u4e49 ",Object(o.b)("inlineCode",{parentName:"p"},"itemKey"),"\uff0c\u8fd9\u6837\u6211\u4eec\u7684 ",Object(o.b)("inlineCode",{parentName:"p"},"service")," \u51fd\u6570\u5c31\u53ef\u4ee5\u62ff\u5230\u5f53\u524d\u6700\u540e\u4e00\u6761\u6570\u636e\u7684 ",Object(o.b)("inlineCode",{parentName:"p"},"id")," \u4e86\u3002"),Object(o.b)("p",null,"timestamp \u6a21\u5f0f\uff1a\u6570\u636e\u66f4\u65b0\u9891\u7387\u4e0d\u9ad8\uff0c\u6ca1\u6709\u552f\u4e00 id\u3002\u8fd9\u79cd\u573a\u666f\u6211\u4eec\u53bb\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\u65f6\uff0c\u5e94\u8be5\u662f\u8bf7\u6c42 ",Object(o.b)("inlineCode",{parentName:"p"},"startTime")," \u4e4b\u524d\u7684\u6570\u636e\u3002\u4f7f\u7528 ",Object(o.b)("inlineCode",{parentName:"p"},"startTime"),"\uff0c",Object(o.b)("inlineCode",{parentName:"p"},"page"),"\uff0c",Object(o.b)("inlineCode",{parentName:"p"},"pageSize"),"\uff0c",Object(o.b)("inlineCode",{parentName:"p"},"offset")," \u5373\u53ef\u51c6\u786e\u5b9a\u4f4d\u6570\u636e\u3002"))}u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useLoadMore/index.mdx"}}),u.isMDXComponent=!0},"./src/useUpdateEffect/index.ts":function(e,t,n){"use strict";var a=n("react"),i=function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)(function(){n.current?n.current=!1:e()},t)};t.a=i,i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useUpdateEffect",filename:"src/useUpdateEffect/index.ts"}})}}]);