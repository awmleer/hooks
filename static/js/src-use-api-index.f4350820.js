(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/useAPI/index.mdx":function(e,n,A){"use strict";A.r(n);var t=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),o=(A("./node_modules/_antd@3.20.7@antd/es/spin/style/index.js"),A("./node_modules/_antd@3.20.7@antd/es/spin/index.js")),r=(A("./node_modules/_antd@3.20.7@antd/es/button/style/index.js"),A("./node_modules/_antd@3.20.7@antd/es/button/index.js")),a=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=A("react"),s=A.n(i),u=A("./node_modules/_@mdx-js_react@1.1.4@@mdx-js/react/dist/index.es.js"),c=A("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),g=(A("./node_modules/_antd@3.20.7@antd/es/select/style/index.js"),A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/regenerator/index.js")),l=A.n(g),m=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/asyncToGenerator.js"),B=A("./node_modules/_umi-request@1.2.1@umi-request/dist/index.es.js"),d=A("./src/useAsync/index.ts"),j=function(e){return Object(d.a)(Object(m.a)(l.a.mark(function n(){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n,A){Object(B.a)(e.url,e.options).then(function(){var e=Object(m.a)(l.a.mark(function e(A){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(A);case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()).catch(function(e){A(e)})}));case 1:case"end":return n.stop()}},n)})),[JSON.stringify(e)],{manual:e.manual,pollingInterval:e.pollingInterval})},C=j;j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAPI",filename:"src/useAPI/index.ts"}}),A.d(n,"default",function(){return I});p="Demo";var p,b={},E="wrapper";function I(e){var n=e.components,A=Object(a.a)(e,["components"]);return Object(u.b)(E,Object.assign({},b,A,{components:n,mdxType:"MDXLayout"}),Object(u.b)("h1",{id:"useapi"},"useAPI"),Object(u.b)("p",null,"\u4e00\u4e2a\u5185\u7f6e ",Object(u.b)("inlineCode",{parentName:"p"},"umi-request"),"\uff0c\u5e2e\u4f60\u7ba1\u7406\u7f51\u7edc\u8bf7\u6c42\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(u.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(u.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(u.b)(c.c,{__position:0,__code:"() => {\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAPI({\n      url: `https://randomuser.me/api?id=${state}`,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:c.c,useState:i.useState,useMemo:i.useMemo,Button:r.a,Spin:o.a,useAPI:C},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhvYABtFEyPW0cAF1xookisgjEK3zpumGag9BolcJYoEoDsCiWOInPnJY0XMNCfJMnTJqJwW-igK5ikIW57keTIMEiCiBBwI9JFmCBvq4bgABJgBZ2h5GKGLBZreQBY9wtUBc6jXGgLmiKomio1pj28eWiMY9F0j2AAHwT1ivdDeBQmRuwk6Z9mOUZkLOez4BU4D6B3Z9ixGbj1x2fLj3vY9roCD6cxw4rhMDvb2seL4xq0FUmctsl6WZ32zWK5jWQuCuJ3SJdyHY1rKHS511iV_kBfZHHwWpB71BO_bxh2JuagcAAcSQmZ1sU2Atqg_zAssSgZiuHq0tQseI8P4_OL2VB7CgLEbYW0lb7S6MPdAUgf7UAPl3I-HFmTUAAUAracsERQH2mg-cUCEH723h7eBJ9zBIMATsLaUc2YEAjOQNGNCADUvUOT7TQOQU0RFOCQMkNAvBX8CFcNwefS-sCd6bm3g3T2msm4t1rBTGi7BRG03kODbcmNoZmC_CAOAhljJEVMuZcMuACBaAoMBfQDA1L2i6AARwZC5eicpQhEAgOaaxtiXwqQsVMEycBEhOTsjgD03jfHkD9HyPQAhEblQaNBAcdgaYWG1lcFE04UgqQsM_MmcBvpXDFDY-ABAGiqQIGk9gURUChHiNk9gXhKDklQCUwUCQCiFNoAIVglSrjlKIIEAQKlwZmAZmrXSPkIwZKuNE2Ji18brCCU5NuNZ_DBImlM4RzoxgxMiNSGOXQ4C1NYDARWMB1BbAICs3yvCJwwDySiUZMwCA4G1ksDJOAMkfTgOIj2OAJh0AjIsvxOy0bxK7pc3ZUB9kRh2R-fBC1oUfGiNNCM3R8bnOBZc45kpEVQouRYL2JS6ZezrkzAAUs4HUAA5HAySCgQDAIkW5pza4riBXTMpFTV7PNZfEQlFhGmAJnC0jI7T2V3JwLy5p4ShWEqUOsLFsMsBiQRkjLxuidIqQ0VooysyjIWUMcYoCehQLgTElBCm8xwxOUSAAGVsAQciRF7DxCgB4CU2w7XETngcjSYowBurPGAMAJz-L2Psu4oacE4B2EsPyDIKK-z9HabQS5UQ0AFE6Y4np40QoqXWP2NgWRjjzngmm7pMafJZscjy-N-byAeCuDHM5rBKBcEWsncpCRxptqgNm2KVbE0s2FMWjNZbu2VrzYmmIR4BD3kHaW9g5b_TVmGmiSUQpqG1uWWjRtXAliYDgkVdgXSemLWZfiWwadk0D1nD5Xd8E8WnrgDgG9yRr2FsSHeiYZ7-1TBfXu99BIvnRqnTkH9t6VwfofTW8aNaSn9OrCiZ-40KEnpxCbEYHxyQCCjUefYEZwMAcnfeLFdM8MToyPeTNf6z1dAvQUcaeGn0wZHX2MI7CRlnOQ6oUY6HxSYejThkjgHCOUYfdRwOl72Dmh8lqLIOB6ojFRuae9lLSLCkYxWkFjikUbuRSevDX7xrSdoLJ0YgM70oZOGh8gGGsMwH4_-0jQGiM1hpRNPDNbj2awEwR4DeZONoaIgQGzdmz01qWHh0TKaZxOZxeseQfTHJw3tGgVpkTug6juW82NnKoBVJqXUpU8jJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIRObal8pSAKtpHSD3poyAVx47BAB28YAI-jAAhboAF9TAApaYAa-tABLnmYWDil5gHuEFfEZAScCuACvcEIqBEiM1zpupt6AVIM3qs_TpS3EPsbiwl-V6lksZFS-wMUzcBCoAAGrxAZIwSwBN1gQNTdU4Q-X1gZCEAIKpZ4BCg5KdXKplgSlYNXidmYJSlZnefiUhzM8VzwZfot9HK4dmabR8jlccUKLE7U2Da7CqYCIwzlKN6ZMNKaR8U5RgYp6TI3GkiBs2UgoTVW-tlIm2kS7bORspxRF2fp2RmIcumA7hXFNXQTAFrrUuR8rt8urzqCbfS5k8axcYochyaOFu72oCfY5_Tn7i7ddTGZh6pYAXOaqyIjzWg0vntvY-zAaXnOCBiAbCev7iVDTxCIoShHxPCWo7xzMQlmPY10xxzHyR6cjxp6_mToiWf8Xl1xesBmDng4wG9V9wDidcjhkgM6dADZkIIzQNkJzDMqDIW_V62nfNW_284EU0v3rcNohgLK6sFE_UBoxUhlc7eaAfD6GGKYdCfI9TvSm-5vRIcuh8qiBkd6pEve07bj2c_N-L5dCv3qd6rvViUAWu4Y_6Z95x6Xh1CRnU7HrYC2fbR59b6X3YCvzXxXF60AFA7QAEzTABC6MADfTQACzUVwXNcNAMF9t8aAPMv4HNUCl9lNn5TMVxlEawAsIw7BkVJp2BVs4AlgQchROkYAxgIdQdHwcd5gRIOQJYpYEoUgrhEYoB2EvYnN78xcmMGYc8tMKJ38nUXVv8dNf8O9sDL9V871etAAgs0AB0FWAhA2mJArAgA_QDAj2XQi_efMQ_AxRbHUcEgtGcgyg6gyHWgg9eg9gRg1ddoMQtgjgkebg8PPg7oAQmDJYYQ9TBmQnI8N_R1T_bYGQk_GsXrQAIwNABYTU0MQOaGQMnQUPQOTxrCMLQPuVCJgDMPxVi0CNzhEL7yVnCI_2kIjEFw2yuFFz21kNpl60ADsPQAXflABYOUACx5QAFfjAA9tUAGqIwANeVAAI2yG0AGW_QAHPNf8_YpglZHAO8oM_9z9ci71iDSDo4oJbD2BQ9vC98_CORotLlvdDRUAaiAkhd3lNYvlNgzjq4f8LkkD5jljvJnoz8MjTksiPZ1jrCtiAkqDjgxZPCuCeCI8DijiiiLlD9zBq470cUPkKC4gCAEUaCjgmiK4njkIFjMwnofJ3i9DMiT1vjLCNiJo_jKU7DQdgT_teD-DDi4SJEoSzcj9USGTC878d0YBH8yjZj-9WkhUWclk3cYBJDIj5kLA_kaFzi1sNt2NNYQisSXi8TliPiGSkCABCHXP2C2dwNlROZOdUjfD4gwn2VwEYQOOY5CaU35DbfUnOekzWQgumJA_E4w79Z6Z4jvE0j2XrQAK-UqtqtAAs7XgMABh_jowAAH1KtYDt4cjACfI1krBANoi-TBV4hBS5lajhd2C9gMtddRVmtxV-Tex_BOsS0BAn8fZetAAgzUmMAD7owAO39AAwuVKV1PiBDMAEwlQADbzAAS6IjKjJgO3iQKNIJKmAuhzMyR1PKXiG9J9mHLdPGlpJgAZJxWhF8K-MFl60jOjOxXGBQJHLTnpCPEKJ9idMZPzxXEZi1IfTFX5QlS5XHLeUnLZUVmQkZWrArJCPnE4MqKkK_xXGlMuLlK_l60ACY0wAI2tAAoOUAEJrQAB1NAA7Y36PlJVJHKAKUM1iQKvPzKaVvKLKgBnOdNSM1NzO1Oy3wo3KKxrMAEhzPsAsmcEMsAwAMBdoKhtkidycdjyPZTznS7yoB0zyAALZS2TVz2EiTYiitAAXt0AFLjQABfjGsoSrTVsbThc7SxcITUICDCVGYlYnliLrzaLWseK3yLAPy-8EcfyxSZ9aZXTcjULr9QCisJghAxh3BoR7CBALCqFSSbD_jKSHCEyXCBBHwEdshXxqSw9FyFpBCSiKyJ9_UTlxSBcLi6itsdtGiYiCKJpMKbyDLcKyKLA7t2teLWd-K1K0J5x2ENTMLSL1yLBespLAAeBTkoriVmtMuJUtzlKvUzpmhOPxqsLHkJQuAOXOvjwNKpv00qqtbKgB0onOyra0lQnGQiWAKoFOKqMvYArJ6pD04P-2dj_F2MJVRKSQ9RwFRMJWrmOpk2rij3cHQVj2QiuEmqnKgHYDHKyv0vmt7F-nyPYCuHAU4MT0Ayxy_hx25Q0yPDBrEKlQL3i1QA0Sam2FcDSH_F2Thu0F0BAgMDAiBX4FQG9EZCQHYH4B-GLGqAyHNB_DJAJvLn4H2QEHyGoH4CuH4BChwFZpChqnWH4HKFYQgGIqZqJpAE0nWjwlgGhCwG9Cpof0lkSFzDyFo1NElHNBJr-FLE5urH4AvQFv4B1RRvVosG5q5JV3hAgHgAFpPX4EVtEEJv4AAD034cAAAOHANKfWmsfgCSbWkAW2pMHAAAJlZp6jdoNpAEcWcVcXyS9vtrZqduDsFqtstEiCjodudtdpAFi1m3VVVtwF0EgBSBRuoEAgxrMWxv4FoB9CyCZuJtNFoBcU1HNFmBmH4HkAUCUSAA",mdxType:"Playground"},function(){return Object(u.b)(function(){var e=Object(i.useState)(0),n=Object(t.a)(e,2),A=n[0],a=n[1],c=C({url:"https://randomuser.me/api?id=".concat(A)}),g=c.data,l=c.loading,m=c.cancel,B=c.run,d=Object(i.useMemo)(function(){return(((g||{}).results||[])[0]||{}).email},[g]);return Object(u.b)(s.a.Fragment,null,Object(u.b)(o.a,{spinning:l,mdxType:"Spin"},Object(u.b)("div",null,"id: ",A)," ",Object(u.b)("div",null,"email: ",d)),Object(u.b)(r.a.Group,{style:{marginTop:16}},Object(u.b)(r.a,{onClick:B,mdxType:"Button"},"reload"),Object(u.b)(r.a,{onClick:m,mdxType:"Button"},"cancel"),Object(u.b)(r.a,{onClick:function(){return a(function(e){return e+1})},mdxType:"Button"},"increase id")))},{mdxType:"Demo"})}),Object(u.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(u.b)(c.c,{__position:1,__code:"() => {\n  function Demo() {\n    const { data, loading, cancel, run } = useAPI({\n      url: `https://randomuser.me/api`,\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:c.c,useState:i.useState,useMemo:i.useMemo,Button:r.a,Spin:o.a,useAPI:C},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhtY45olcJYoEoDsCiWOInPnJY0XMNCfJMnTJqJuncgEKArmKQhbnuR5MgwSIKIEHAj0kWYIGKGLxfFqJUFCeIrlRBkdd1haxfp6gXOo1xoHGiiqJoqNad1vHlojT30GZ9gAB9fdY-QOVDeBQmRux_fYABtABdDko5CmO_YD4Ag5wW3oDN83o-90iY6z8W32zroCD6cwXezhMDsr2seL4xq0FUmctrZjmZ32jOpdYzv5CkOvUGryvGHYm5mWoewoFibYtv5tCNtgLaoP8wLLEoGYrh6tLUP2y3zbAUdpt3umpBHzjB91qRz5rIvxfB3WS7L2sKZo9hNxXeQ79rSRMehswvxAOAhljJEVMuZcMuACBaAoMBfQDA1L2i6AARwZC5eicpQhEAgOaJBKCXwqXgVMEycBEhOTsjgD0RCSHkD9HyPQAhEblQaNBAcdgaYWD6F3FE04UgqQsGvMmcBvpXDFMg-ABAGiqQILw9g-tDZQCEewLwlBySoGkYKBIBQJG0AEKweICiDZEECAIFS4MzAM2FrpHyEZ-FXCYSwxa-N1iUKchXGs_gqETQcVfZ0YxmGRGpJ7LocBlGsBgHzGA6gtgEC8b5V2NYcFiOsTMAgOAOFLH4TgfhH04A32zjgCYdAIzuNIUEtGbCa4TngCEmAEYgkfiPhbOJdMPjRGmhGbo-NYkVMqZEyU7T6lNJrEHaRdMg4FyjgAKWcDqAAcjgLhBQIBgESEk6J-cVzlLprIo2exklq3cHIguFh1GTxnFojIuiu4ZJOZouhlyC5KHWAM2GWAxIIyRoQkBOkVL_0AUZZxRkLIQKgUBPQoFwJiSghTeY4YnKJAADK2AIORIi9h4hQA8BKbYKLiKkVoDisUYAcVnjAPvWydE3T2TwUNOCcA7CWH5BkLpfZ-i6NoJUqIaAChXAMUY8aIUVLrH7GwLIxx5zwR5RgvlPkBWOWOay0V5APBXE9jE1glAuCLQDgbBI40dVQEFbFBV7KUSuGFJKwxTKZWGvlSK9lMQjwCHvBa6V7BZX-mrMNNEkohQRiVSqtVGrFhirgkVdgvKMiLU2fiWwIdOVN1nD5TAoaRkxrgDgZN8FxqZsSKmiYsbTX2iTeK3NK583podRke82aS15oJB8Dw40lXSNMdWFEa9xru2ZRYHESsRgfHJAIBlR59gRnLfkxlTr0ADLpuOytU7-V1tjV0eNBRxrjpzS2m1fYwhEU7TE6NvaTj9vIIO4dMBR1zsnfeGdNZx0rrtgm9g5ofJaiyDgeqIxUbmjTfM0iwot1ysqfSI8-6yllvrYWqYr732fsBqmo9owB3iiHYyy99b503tTUsia46lVRrFlex11afKIf7URAg570OxqVUse9GcE23osJ_eQJjHJw3tGgbRDDug6mSdk5l2z5FXCUSopUr9JDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIRQrlGnJSOcnReiXUZHE48dggA7eMAEfRgAQt0AC-pgAUtMANfWgAlzzMK2xS8xw3CBmJ28hOAzUpHuCEVAiRY6Bq4CpBm9U148o82BzpqdDUcbHHQnj7AxSlwEKgAAavEBkjBLAE3WK3BKKQRPCDE-sDIQgBAKLPAISr0jc6uAUZYaR3MERdwizMaR_Motr2kfOq40b23r3c71lcQSMHdQ66muKFEeudfWKx5z7HXnwxgIjMOUo3pkw0ppYhTlGBinpMjcaSIGzZSChNbzvn_NImC2jPxmCiIHdDsjMQZtMB3CuNCugmA4WIpcj5WOZssnWyuHxgR41U4xQ5MI0cZcstQBy4djb-XPXWymFHU1-L1qjiTkLIiJEsjPbS5l7LMBntHYIGIBs0bCvcsNPEIiBdWvzjmwXbrI2ZgF3692msQ22di3G0eAXcSZtERF6Ms2wz1gM3nQ7IihLcuTr9rkcMkBnToAbMhBGaBsi3oZlQZC0GNKEojCFfX6POCSPlzAU3JsYDPOrBRElZKCCqvA7TQ3NAPh9DDFMAA1D5Hq2HJE-9qy6Hy9vU0P3S54j3usvcpN6OHzMgfeqpsW9WJQYq7iO6tqgFyQ2bdooSJinY7vYsrkT2Hv37A0_B5XMZwAoHaABM0wAhdGADfTQAFmorhw2OydNf9AEbifOwf3uhvwffiuCjEY7CdMmuwbzcAlgVaFDymAYwauVcfEN-YIkOSs3ZkVq4iMoB7qDre7PwXt0MzFx0jSJeMVYor6jum1fk-1_r6m4zgAgs0ADoKnePetMfeo-H-Q-vOFgoBvux4d-k-tMn8FgM-c-HsUES-K-tWa-4aG-7AW-vq7Qd---h-bcxWDOZ-3QF-LaSw1-QGDMQu9-FEj-Ze2wL-vOxmgARgaACwmoAb3s0P3o6mPtEhAeMAPmAd7nQXAaMgtlQXHDfpbvzMXuikwZ7FdgFDdoFndpXrTMZoAHYegAu_KACwcoAFjygAK_GAB7aoANURgAa8qAARthZoAMt-gAOeZV5yHISOBG5NptDe6iFSLT6jiz5owL5oHsB06JTjBojkEchMaVIk6GioARgqF-a5I1j5KbBxENbx7mx978xuGZhPQ-Tv7QE0DD41xIEBGoHkLL5MykREHH6kHn6RGpqSGDIx7mANaNGNK6wtIEBtKr5HCaHZxZGuGeHQbPQFEp6CHRq6ylHz7lHzLoGVY1H06n71FRFNHFxw6x69HtHS5Z5LAfY5KyEF6JbaKXK7YeL44wCMHP4rjFLkCXbkLXYHpiy0FDHuH5HDECHtF94ACEIOBe-yBsvYkc3xXKSehRExu8rgIwdsUw_M8R5CRSqhyc0cccqxqEYsfeYxteeRE4rxRRQhFgxmgAV8qKZKaABZ2t3oADD_-hgAAPoKad67xQHjF6rYHnoCAsFcYXLxBnEuIJE5LpL8bWw4A3JnJ3K9j-DhpSqRrbq6zGaABBmg4YAH3RgAdv6ABhcjIgcvEJSYAJhKgAG3mAAl0bSfSR3rvH3qCQIewBdLsgIgCXIsUZXOad4eNMsTAO0cxtCGQQSTWMZnSQyYMpASIeCSHCBjUmicxmLAgahOMn8emiKTpmKVAAKTaUJnzMhOstWHnoWEcZUoVgoaXtcbTPCT5qoU8XEsZoAExpgARtaABQcoAITWgADqaAB2xmYc8R8U6V_hibwTGcKVprcicfEPabrD8d2UJoOebPKQ4YAJDmfYvZM4lJTegAYC51kWbcH-nrQRAzASHmyRl0ycl6ZQA8nkBFmPHbEel7qTHemSaAAvboAKXGgAC_EabNHIRFmIl-bInBZomRmPK0xRz8xJnZI9kaKin9lQDpkWCZkG7uBtZ5lP7l5drRpYkugdlaGSYTBCBjDuDQgYECC-Fu7IETSzGVG9Hr6b7YWPgs6wCEHBFH5LGM4RGX7SGZnO6kpRKuIWDHmqFXC3ZxwZG7ldmCn_Fxm6aXJjm7kJmHlbmjJnndDDkCXpqjlenGa3mAA8Co-cXM-d5q-RHAHB-dsUBnTC0XHv0ebIhankHm6euWvJJUMhntGXJbafEP-UKUJQmamVxFbiBYeWBewJmYZbTjRaEVjn-CESkAXMReue-r0QXA1lcEFRmszMzlBbzGNshFcCOZqVAJaZdN2S5SBT9MBhNuwFcF0IVtzpOgNmLENkcgVUeNVXfg8lLmxqgP_E1NsK4GkP-MEs1doLoCBAYGBOUvwKgN6IyEgOwPwD8MWNUBkOaD-GSKNWbPwKEgIPkNQPwFcPwCFDgFtSFDVOsPwOUOQP0AJeteNSAJpOtHhLANCFgN6PNTnmzIkLmHkGuqaJKOaJNX8KWHtdWPwPGqdfwECp1T9RYAdTADCr9uQBAPAKddGvwG9aIGNfwAAHqbw4AAAcOAaUINNY_AEkANIAyNSYOAAATFtT1DjaDSABglggkiiATajdtRjZTWdQjZaJEAzWjZjdjSAAts5r8l9bgLoJACkJ1dQIBL1bAgNfwLQD6FkOtRNaaLQNgpqOaLMDMPwPIAoB_EAA",mdxType:"Playground"},function(){return Object(u.b)(function(){var e=C({url:"https://randomuser.me/api",manual:!0}),n=e.data,A=e.loading,t=(e.cancel,e.run),a=Object(i.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(u.b)(s.a.Fragment,null,Object(u.b)(o.a,{spinning:A,mdxType:"Spin"},"email: ",a),Object(u.b)(r.a,{onClick:t,style:{marginTop:16},mdxType:"Button"},"fetch"))},{mdxType:"Demo"})}),Object(u.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(u.b)(c.c,{__position:2,__code:"() => {\n  function Demo() {\n    const { data, loading, timer } = useAPI({\n      url: `https://randomuser.me/api`,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:c.c,useState:i.useState,useMemo:i.useMemo,Button:r.a,Spin:o.a,useAPI:C},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhtY45olcJYoEoDsCiWGIjyONCfJMnTJqJuncgEKArmKQhbnuR5MgwSIKIEHAj0kWYIGKGKRZFwUEgKBo9AEVh4iuJMQrNzWtYW4X6eoFzqNcaBxooqiaKjWmtbx5aI299BmfYAAff3WPkDlQ3gUJkbsQP2AAbQAXQ5GOQrjgOg-AEOcHt6ALct2PfdIuOc5Ft9c66Ag-nMN3c4TA7q9rHi-MatBVJnLa2Y5md9qz8XWO7-QpAb1Ba-rxh2JuagcAAcSQmZ1sU2Atqg_zAssSgZiuHq0tQ_brct0eOOZah7CgWJti27mMhwOKKP26-iKkMfOOHuv9_H8wj5PnZz_5S-UTX_a_4zAfgfIeu8tav04nsVAx9T7fx5mHekR59pdEQTAYBb9n570kI_Ce082hYxfpuXeJcRbgy1mXCutYKY0XYEQ2m8gyG1kkJjaGZgvwgDgIZYyRFTLmXDLgAgWgKDAX0AwNS9ougAEcGQuXonKUIRAIDmikTIl8KlxFTBMnARITk7I4A9FonR5A_R8gNojcqDRoIDjsDTCwfQe4omnCkFSFg15kzgN9K4YppHwAIPrF4Lj2BRFQKEeInj2BeEoOSVAgSdYnxnPrWghswlXBCUQQIAgVLgzMAzAWukfIRjcVcSx1jFr43WIYpyVcaz-CMRNMpmDnRjCsZEak3sUFRNYDAJYXR1BbAIA03y7sawqN8YUmYBAcD2KWG4nAbiPpwBIbnHAEw6ARlqbolBaNbF1wnPATpMAIwoI_GAq2wy6YfGiNNCM3R8ZDN2XsvpkobknPOTWEOgS6YhyLjHAAUs4HUAA5HAjiCgQDAIkcZAzC4rh2XTYJoSe6zIRfEIuFg4l6wNkbJFEyr5RPiSkRJGRsVFyUOsV5sMsBiQRkjTRPCdIqXYZwoylSjIWQEUIoCehQLgTElBCm8xwxOUSAAGVsAQciRF7DxCgB4CU2xJXEVIrQRVYowCKrPGAMA_T-JyPsmooacE4B2EsD_I4Oz-xsCyHsqIaACipIURk8aIUVLrEtUbWgxx5zwQdekjIzrXWxX6B67o5APBXG9oM1glAuCLSDiEhI40E1QEDei4N1qUSuGFL6p1PkXWOTTVaz1F8BD3hzf6vNqbCyoEcaESUQoIxhojVGmNiwvVwSKuwNJGTFpwvxLYMOtqW6zh8pgDtnz-1wBwGO-C40Z2JAnRMAdmb7Sju9QulcS6p0lvvHO9di6CQfA8ONMNgTsnVkAeNT29yaw4nliMD45IBCmqPPsCMW6VlmvvK8umH6d05ErZuw9XQh0FHGh--dZ6q131ufU7ZK470nAfeQJ9L6YBvr_V-9AP6awfpAw7Yd7BzQ-S1FkHA9URio3NJOkFpFhRQYLXs1BV7Bl9o_SuqYJGyMUcBhOxDoxH3imfT_DDh7_04YsOCiaH6w29uFphnmu6fL8YfURAgaHRMDrDVzYDWdh0SdQuseQWTHJw3tGgJJ5jug6gmQsm9KKoDhMidEpUtDJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIRbr8WYqSdi8J3aMiuceOwQAdvGACPowAIW6ABfUwAKWmAGvrQAS55mHPYpeYXbhCzwKfonAWaUj3BCKgRI8cW1cBUgzeqa9UmlZY9s4zpmqXqQsxkKz7AxTlwEKgAAavEBkjBLAE3WO3BKKQrjOfFDE9YGQhACHCWeAQG3An51cOEywgS4hOXnO1tegS0RBRKxd9YJarh9sAedmYE6UEKO6q1l7K4YPPYY2DHr1KYCIwjlKN6ZMNKaW0U5RgYp6TI3GkiBs2VrsRgq1VmrSIGtoxaYo--sOQdiAtpgO4VwBV0EwMKsVLkfLxwtvM22VwbPuPGunGKHIvGjgrhNqAU38fI1m9WBmMdM0qvWqOFO_MiIkSyDDzno3ue8_Dvzhsfb5v2sNPEIiRcTsIh7p9ouV3ntF3uzeumT2bszDRUx97RvhY_Yt6Si2Hz1gMxLU7IiarptmoDrkcMkBnToAbMhBGaBsg4YZlQZCnGNJqojCFcPtsxyqWjxRWPqIGQUurBRTV2rnnXr7ZHmgHw-hhimAAah8j1CddrJm9B2y6Hy6eYCvbl5XVjwtC-15Ly6CvvUJ3derEoL1dxM82xrVMS9kuYDSoSHKnYkb4O0078X-vmZe9V5XAlwAoHaABM0wAhdGADfTQAFmorik--s1K_S9yeGSWy_x5AG8ZXIwiwamIx2DuZNdgFW4BLHW0KVJMAYw22G2j4gC8wIkHIrM7MC2VwiMUAREC0OGQ-DWVaDMMG7u0-Mqc-2wC-dyBebQRedepe7A6-E6CWgAQWaAA6CofifrTGfrfkQfoNflrAwd3kXjBo_vQiuK_u_l7FBN_r_jtv_l2oAewMAQ2u0DBhAVAR3IthrvAd0CHEgUsCgYxgzG9keBgTPrKvKrgQLnTAloAEYGgAsJo0Gn7NDn7wKME0DMEiysGr6TIaGHIGaMLIEJyoGJ4TjIRaFYG6Go76Lo5XCY4JyL4GHuaAB2HoALvygAsHKABY8oACvxgAe2qADVEYAGvKgAEbapaADLfoADnmK46hyEjgUeJ6BBXeDhE6PBaMn-Ah7AauiU4waIihHIBmFCo2hoqA_hlWAUiywsKymwHR-2oRlsZ-V2RRmYT0Pky-1hAypulslRH-_B-iP-TMpEMhMB8hCBShE6Xyu8rR5g-22xZyWslyBA1yf-RweBu8IxhRpR3kz0UxbBMxfaWs8xfBX-SxghG2ax6ucBmxzRhxFgz-Isex0IQhmSwszug-SwxOiyHh4-nAWK8QkOdSU-2h2B1SFgGy5AE0aO3R7ewyBR0CtxkxpRd-NAhxZ-AAhPTjWsrO4IiqnOwJSTXmSU8bvK4CMA7FMFdp0est0YyQ1gZoCcLGfg8Q4XcT5KMaUbYVrAloAFfK_mAWgAWdrH6AAw_9EYAAD6fmh-u89hxBPkTSVgZqehCJUWSJUO5AnR6OkBewtmtseKusCSiJUAIQdgsWAgo-lsCWgAQZo5GAB90YAHb-gAYXJBL0nxCqmACYSoABt5gAJdGanakH5XEWEsnTHsAXS2nuJ0khLxAynDHJ6snjS_HN67xoTzgIHPEiwJZak6lvIWB6nHhOGcG5xAnCn0I_I0lToYpOlmlQAzJ2m0kOY9LIQwrVienqHzjQE-Gz66ErhWl4lDFhHsCABMaYAEbWgAUHKACE1oAA6mgAdsZJEd6kmpmkEikWEdkOkEpErJJQC5l0xUlnkOY3mVnua-mACQ5n2BFjOKqVvoAGAum5qWZhtZc8a8TZlsLZNY_WV5yJVSuJ1WQp_EZZ3QFZFgCWgAL26AClxoAAvxYWbyPJFWfJ1WApCccFQJZKtMMcV2fZmZXZhKzpI5FgY5nhOu84U5Oh8--e-Rh5jxJBleZB7mEwQgYw7goJG23Bo4b-VRixIKnxwhhp4hAgj4TFsA0htR0BPxmuTRyhsc7hjG2eWq_SGJOJAR3RQRdWWOlxwyZ-Z51Fl52Kj5kmzpUFlpxF0IChnAFh1J_ZU6D5sxi56FgAPArYWlzIS8no6EX_EQmMZ0wgnsVvJinEHHlvIP7EX97tmeVZmIqUULLnmRbEqopeFcSmm5VQCOV0XsCekgmq6qX1Ei5_h1EpBFznFXA1WZxglFz7ZNXKp_j7ba7uC64G7IRXD3lhkunplWUfk0U9k_TW6aFXBdDzbG5moPbCyAJW5OFW4waO5GYmaoDsJNTbCuBpD_hwDUCAS6AgQGBgQ7L8CoDeiMhIDsD8A_DFjVAZDmg_hkh3UWz8BdICD5DUD8BXD8AhQ4DA0hQ1TrD8DlDkD9D9kA0PUgCaTrR4SwDQhYDegfXD5syJC5h5BgamiSjmhPV_Cljg3Vj8BDpw38DspHWk0WCQ0wCCoU7kAQDwBw19r8D42iD3X8AAB6m8OAAAHDgGlLTTWPwBJJTSADzUmDgAAEzA09Si100gAKJKKjIoiS180g2C1K3w2c2WiRCa381C0i0gBGYFZMrE24C6CQApBHUnXaBnWiKXX8C0A-hZAA2PWmi0DKKajmizAzD8DyAKAMJAA",mdxType:"Playground"},function(){return Object(u.b)(function(){var e=C({url:"https://randomuser.me/api",pollingInterval:3e3}),n=e.data,A=e.loading,t=e.timer,a=Object(i.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(u.b)(s.a.Fragment,null,Object(u.b)(o.a,{spinning:A,mdxType:"Spin"},"email: ",a),Object(u.b)(r.a.Group,{style:{marginTop:16}},Object(u.b)(r.a,{onClick:t.pause,mdxType:"Button"},"pause"),Object(u.b)(r.a,{onClick:t.stop,mdxType:"Button"},"stop"),Object(u.b)(r.a,{onClick:t.resume,mdxType:"Button"},"resume")))},{mdxType:"Demo"})}),Object(u.b)("h2",{id:"api"},"API"),Object(u.b)("pre",null,Object(u.b)("code",Object.assign({parentName:"pre"},{}),"\nconst { // \u8fd4\u56de\u6570\u636e\u540c useAsync\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAPI(params)\n\nparams:(\n  url: string;\n  options: RequestInit;\n  manual: boolean;\n  pollingInterval: number;\n)\n")))}I&&I===Object(I)&&Object.isExtensible(I)&&Object.defineProperty(I,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAPI/index.mdx"}}),I.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,A){"use strict";A.d(n,"a",function(){return m});var t=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/regenerator/index.js"),o=A.n(t),r=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/toConsumableArray.js"),a=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/asyncToGenerator.js"),i=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/objectSpread.js"),s=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),u=A("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/classCallCheck.js"),c=A("react"),g=function e(n,A){var t=this;Object(u.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(t.timerId),t.timerId=0,t.remaining=t.delay},this.pause=function(){window.clearTimeout(t.timerId),t.remaining-=Date.now()-t.start},this.resume=function(){t.start=Date.now(),window.clearTimeout(t.timerId),t.cb&&(t.timerId=window.setTimeout(t.cb,t.remaining))},this.remaining=A,this.delay=A,this.start=A,this.timerId=A,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var l=function(){};function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(c.useState)({loading:!1,cancel:l,run:l,timer:{stop:l,resume:l,pause:l}}),u=Object(s.a)(t,2),m=u[0],B=u[1],d=Object(c.useRef)(void 0),j=Object(c.useRef)(0),C=Object(c.useRef)(!0);Object(c.useEffect)(function(){return j.current+=1,C.current=!0,function(){j.current+=1}},n);var p=Object(c.useCallback)(function(){j.current+=1,d.current&&d.current.stop(),B(function(e){return Object(i.a)({},e,{error:new Error("stopped"),loading:!1})})},[]),b=Object(c.useCallback)(function(){j.current+=1,d.current&&d.current.pause(),B(function(e){return Object(i.a)({},e,{error:new Error("paused"),loading:!1})})},[]),E=Object(c.useCallback)(function(){d.current&&d.current.resume()},[]),I=Object(c.useCallback)(function(){var n=j.current;return B(function(e){return Object(i.a)({},e,{loading:!0})}),e.apply(void 0,arguments).then(function(e){return n===j.current&&B(function(n){return Object(i.a)({},n,{data:e,loading:!1})}),e}).catch(function(e){return n===j.current&&B(function(n){return Object(i.a)({},n,{error:e,loading:!1})}),e})},n),Q=Object(c.useCallback)(Object(a.a)(o.a.mark(function e(){var n,t,a,i,s=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,t=new Array(n),a=0;a<n;a++)t[a]=s[a];if(i=j.current,A.manual&&C.current){e.next=5;break}return e.next=5,I.apply(void 0,Object(r.a)(t||[]));case 5:j.current===i&&(d.current=new g(function(){return Q.apply(void 0,t)},A.pollingInterval),C.current&&A.manual?C.current=!1:d.current.resume());case 6:case"end":return e.stop()}},e)})),[A.pollingInterval,A.manual,I]),O=Object(c.useCallback)(function(){j.current+=1;for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];A.pollingInterval?(A.manual||p(),Q.apply(void 0,n)):I.apply(void 0,Object(r.a)(n||[]))},[I,A.pollingInterval]),w=Object(c.useCallback)(function(){j.current+=1,B(function(e){return Object(i.a)({},e,{error:new Error("canceled"),loading:!1})})},[]);return Object(c.useEffect)(function(){if(A.pollingInterval)Q();else if(!A.manual){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];I.apply(void 0,Object(r.a)(n||[]))}return function(){j.current+=1,p()}},[A.manual,A.pollingInterval,I,Q]),{loading:m.loading,error:m.error,data:m.data,cancel:w,run:A.manual&&A.pollingInterval?E:O,timer:{stop:p,resume:E,pause:b}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);