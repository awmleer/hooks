(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,n,o){var t={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-SG":"./node_modules/moment/locale/en-SG.js","./en-SG.js":"./node_modules/moment/locale/en-SG.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function l(e){var n=s(e);return o(n)}function s(e){if(!o.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}l.keys=function(){return Object.keys(t)},l.resolve=s,e.exports=l,l.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/useAsync/index.mdx":function(e,n,o){"use strict";o.r(n),o.d(n,"default",function(){return B});var t,l=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=(o("./node_modules/antd/es/message/style/index.js"),o("./node_modules/antd/es/message/index.js")),a=(o("./node_modules/antd/es/input/style/index.js"),o("./node_modules/antd/es/input/index.js")),m=(o("./node_modules/antd/es/form/style/index.js"),o("./node_modules/antd/es/form/index.js")),c=(o("./node_modules/antd/es/spin/style/index.js"),o("./node_modules/antd/es/spin/index.js")),d=(o("./node_modules/antd/es/button/style/index.js"),o("./node_modules/antd/es/button/index.js")),A=o("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=o("react"),u=o.n(r),j=o("./node_modules/@mdx-js/react/dist/index.es.js"),i=o("./node_modules/docz/dist/index.esm.js"),g=(o("./node_modules/antd/es/select/style/index.js"),o("./src/useAsync/index.ts")),b=(t="Demo",{}),p="wrapper";function B(e){var n=e.components,o=Object(A.a)(e,["components"]);return Object(j.b)(p,Object.assign({},b,o,{components:n,mdxType:"MDXLayout"}),Object(j.b)("h1",{id:"useasync"},"useAsync"),Object(j.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(j.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(j.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(j.b)(i.Playground,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:o,Playground:i.Playground,useState:r.useState,useMemo:r.useMemo,Button:d.a,Spin:c.a,Form:m.a,Input:a.a,message:s.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgCMuAOhmqZrCwugIPpzDAUctojYpCFue5HkyDBIgogQcCPSRZggKGuG4AASYAuHkYoORwCY6AjLo7DpxmBYneB_zgagEdy62azfZ20at5mweZLVqMoEm-ediwlqmABtFEyLO0cAF01ookisgjVLXcD4PWOOaJXCWKBKA7AoljiWz5yWNFzDQ2LXOs2yI1po72c5qAI3D2gOSWEOrYFpuYCdwOo-T53U-o1xoFjoiqJoqN-edmv1ur9AM_YAAfBfWPkI3zdCIm7CX9gQ97kPUpj7fgFXnBB-gbvA53ufSKji_rexyeayFkWycvhN7rf2seLQM7eNQEyZyXWzrnGcd126BxjLILgVxgCd3kBjWMtZMZnygDAlB8CdyyHAQLKQ39UAfzfowdiNxqA4AAOJIRmGdAysBLpQQSklSwlAZhXGmuVVCYDH6XyIRxZk1B7BQFiNsS6Jc7pdGAegKQxDOIEM_jwkh5h-GCJ2JdAuCIoB3TUfOKRvD8HYOtvIziexUACKEZdaeRECARjsnTHo7AADUM0OR3TQOQU0RFOCSMkNI6gsiIHeN0eQyhficGbnAX3GsaNnbPwEOYRgPsaLsDCfzeQUTaySApljMwX4QBwCci5IiblbKSE8rgAgWgKDAX0AwUy9ooI-3mOGWyiQAAytgCDkSIvYeIUAPASm2J04ipFaCDLFGAQZZ4wBiz8nRN0AUXzGTMOQOC0krD8gyIwSw9N1j9jYFkG2nMAEpCuKgUIRBAhHFiqlRZeV-isH2ZgOCTV2CnPORkNa1ygoWF2fc2gPQPBXGrjgYFrhEr3BCKgRIu8Dq2OgjKakmzF65HDJAZ06AxAHWXqchIa1sVQBud8u5-zw7ChOWci5HyCV9iJX8mIR4BD3jJW8y57BPn-mrMHNEkohTWIBetGFR04WRARZYJFyF8ZoGyGIJYjz4JMoubzFcExbChjPkctasrEjGQFsquAOBNUavnPBbVNZdU4BJVMWKmqTUWDNXSjI95DVPJtfiFV5APBrXdSa921YUTMLWtPAONYcQKxGB8ckAhLDrP2BGO16yGXoA_Eqgkxt42OquS6s1XRDkFDWma616x5BUvyhRANAq4r8xDScMNyzxSRujeEWNKb7UJqTfzLNarc3mlilqLIOBUCjBJuaV1eqLXeqpevI8AbgU4FBSkcFSJoVXCFUQEVR1l7ipgKi3Mtig22pTRatavbaD9sHW2gWVbRjhrrVGo8Ma430vvOemsEBmhNrdR4RVj8YnmGdGMFda6zbwEoFAVg3Rd3gIfQ6nIsVL1hssbemAMb_DuX5aTPdgdX3rTNe6r9n990fojDOiMc6t7L2hc-z-jwbb0inYAK-VABnkYAReVABZ2oAN9NAAWaoAAH1ADTmoAQui2OABh_wAhTaAEhzQAK_GAD21QAy36ABzzfRgtgOgZgBPfDNZ2gADlhzmxA2B9g9yoAMjzJscwgoEgFFErQAQBnOCElHKSckHjS3UGcKEcgCJVkfWoGeAQQgjhoBROKZSIQ7BIjvpfSjgc0luyWB2nNM5IsWFXi66LNthaxORRKtF46zA-txvaNAVmCbtR1DMVmcBNnbOrFEU58QoZXC8CB8UqAlRJMkOwQA9GaADIVQAuEo8cAGjKgBzI0ADIROyQOCJnJZjIBn6svPJRkVr1HAB28YAI-jAAhboAF9TAApaYAa-tABLnkyVArn3PwDgLNiM6AriWHLawSgXBFvtcAAhGgB8pUk4AYBjDs-b8-dqaX2hQ3bu-gB77BACMmoAUlj3u5aCgZeYLzhBUNikRkFYKriLt7qTW792lkhSmAO5hJz4dlvQ0W6HX1uj9mFURMU6XUCVencj-dqPIXQtJgBoiiKN0oslei4yqcKerqp6OEWVx-fUmpyLRgSIjqxRQ7ZNDti8UhYhVqoK-Wxx6AEMV7o4vYkADV4gMjp0GiRBQGvCHJC19YGRvtXD-wIE119XCzcsCarRqC4fMJNSXEX8LBc0455lrd3OxAmpbTAlcfqWEe5mC6ydU08cx5XCWoiBPPeFuMnlrAql8aEylKDVm5kinkEYGKekRM1pS9U4aZK60Z2kaZ1C9HsLfcwBL_ADeBBpXrEwHcK4DS6CYGaW00KsVd7d2YeVq4pXytt7L53tax9cociuDr1A-vDOt9Lx3qrQccc707ksSxMdy5EXjrQNvNP1-G630TMQDYMMm6KoaeIRE75u9TzMO-3vqWU5gKvu-YeFazskeH-4WNGZyU0oufuIsYBye8e8Od8Sghaz6qcLaI8f-W6my8as-2-YqXOaKDYm626iarue-VAyElq5kYyicKBe-aA44J-GBYAsaaIMAtBqAoUMAYGAg0EYQREMGVBW6EYBMUAREba6wFEky0yVigaK45BNAHwfQYYUw9isU00Lq9BBAihvmLosUqIDIseQuGWshj88hWhvQOhmYqhM0KW3qMqMAdw4hHKe-Jc6B3SCQfSOwQKDOC6zOvcy6LeOB5enOWWUq6GK41GgAdh6AC78oALBygAWPJSaADVEYAGvKgAEbZrZyZyEuHISOAUGeptAKEWHKEuqWKNykwbTsAzpwBZw5yFTHLjCsH7SRY_rV5I6zpgoRIWDGwmYXbzwQZcKcBvolx5GZiAyxRmHaHKF4ZvxYYRgT7gx6ouZuYeZwAzGfwLEhQ4DLEnbSR9GkSJbWypbAGjjlG2KVHVEyoZy1EgINEiEeKryHFJbgKtGO4upJZdFVFxAEASzW5CjhGDFzEjGFGWpAyTHFH6DrGYZvqbEcHbGoB25QmXywlLEIm-Y8p_ECBPGRL6JlEWxHQXHAo1HQjokCA3H1FXD3HdCPHvE4mDGtGYm0nJaFr2GOFUqpyR5uE9KeHbDVzloYZcEZC8EUToBTG6GNEGHZEUFilWFqEurUaACgdoACZpAmHGK4cxLaMpBASJ4w8aWp5qEQMwCMKWEepx-J60UElxJJfmJyMAYwduj4ke8wykLc7Aj-dxL-1JHIz6SgO8vc7Je-cBXJHh_SfJAJAsgpPBfB2QWpearBLq4JShLo1h6hER7WgAQWaAA6CqqeqW-pqRCTQDqfmUmQoXAcaSuKlniRUZaUSUsJibafaaSY-HAS6eSabs_qIV6T6a3P6V8oWBwVMHHsGb0qGbLnZO0aRsvl1L_kEVMCEUHgQeGTWNRoAEYGgAsJo5n8xzEACEkZwp_BWpOp1GgAaZmACE1iNuAVOkJoACl6gA016ADOyiNoJoAPFpgAcCq8YCZWyuAjBDyDnIQTmdEmlbl5l6kFnalAHWytHFmWFaFx7tEkZgqLzka9yRapatFEHc52F-lOG74DmcAa4GZF7Dk8lV4WBjm14-H8lWypzAn5ETEglam0mwCDmjgr7t7BGB7EG0k7kokqzuChC9jbzbmaGHkQXRKjgV4_njglzwWkZIXYWHHHFDHrSJkwUxRAy0WFliXWzUZ0Z9b9bsYcaCaxEflsaQagUlmUF_prL0qzkNj6LTyFbTbxBF4AXzotz6K8VmYTYpBTbWa9j-BzbMpgEWDYnUaABBmrJoAH3RgAdv6ABhcuwDVgJVAIJoAJhKgAG3mAAl0SZfxmZYCW-iJWBewO9HsGVosXxbVlADqQLNRt-b-ROP-cRnJdvBRrSQLIVZZWtFSW1XJPOB4hhs7NRqZfokLJJfVdBcoaqrRipk1YhS1ShT1UpUpa0ULClnfCHF5eNhZgRfEEsLxUlbtQ1agLfOsDhf2aFOInUcRaGSuG5WsQETOTfnOZxcHkuTVe1oAExpgARtaABQcqeYAA6mgAdsZSbUUMVFUpncUwllVbHeXbVWYGbVXKURjbn7X8XxCI0WARWyaiZ9hbUziCYKmABgLn9WtpuZ_JHuWYMUpYpjTvhfDS5ZXOQHdYpVbNRoAC9ugApcaAAL8aNt-kYeYDJbNfOvJa1RWetSXHtdDXCbDZNjtVACddWGdanG7tdV4SYQLKpcoQ4nKWmfiEIGMO4NaUKKaVYuaYSeanWaSQ2ewA6e0G7tkK-G2U_lSc0VhdClSpIVMlsFYrdXXijsrizgMc7HMZteZrLfTVVdpe1XLa5YpdCJ2UjSjVLXqgdZHQNcue1pzYADwKvNl8gtwKCFwt813pTJfZAsrR6tKcYNnVEN4CFNila1K4G1ydFVyVkt5WOAMtvlctxcyESwTl_lUAReCtoVE6_N2l7pVwncOA7pd89Z1CfamJd8juU9wyf4jub-7g6iX-yEVwqNlVxVXmLdXdflNmMMQ5Vwl1HYAB8a4ej8keYBcesB0ZiB3cJOqM2SSgIAg02wrgaQds1AgEugIEBgYEQa_AqA3ojISA7A_APwxY1QGQ5oP4ZI0D3c_A3B-Q1A_AVw_AqUOA-DqUPU6w_A5QbiEAUtODsDIAFkZ0eEsA0IWA3oqDxwDh2ciQuYeQuapoko5o8DfwpYxD1Y_AhyVD_ApSdsQjFgpDDhA-8IEA8AVDGG_APDogMD_AAAemwjgAABw4DlRSM1j8DqRiMgAaNJg4AABM-D00hj0jggmolokQpjWj5Uuj-j_AhauWOSCD3gHw1AkAKQADqAQDVSoEIADMIAtAPoWQODcDpotA5oqj5oswMw_A8gCgqSQAA",mdxType:"Playground"},function(){return Object(j.b)(function(){var e=Object(r.useState)(0),n=Object(l.a)(e,2),o=n[0],t=n[1],s=Object(g.a)(function(){return fetch("https://randomuser.me/api?id=".concat(o)).then(function(e){return e.json()})},[o]),a=s.data,m=s.loading,A=s.cancel,i=s.run,b=Object(r.useMemo)(function(){return(((a||{}).results||[])[0]||{}).email},[a]);return Object(j.b)(u.a.Fragment,null,Object(j.b)(c.a,{spinning:m,mdxType:"Spin"},Object(j.b)("div",null,"id: ",o)," ",Object(j.b)("div",null,"email: ",b)),Object(j.b)(d.a.Group,{style:{marginTop:16}},Object(j.b)(d.a,{onClick:i,mdxType:"Button"},"reload"),Object(j.b)(d.a,{onClick:A,mdxType:"Button"},"cancel"),Object(j.b)(d.a,{onClick:function(){return t(function(e){return e+1})},mdxType:"Button"},"increase id")))},{mdxType:"Demo"})}),Object(j.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(j.b)(i.Playground,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:o,Playground:i.Playground,useState:r.useState,useMemo:r.useMemo,Button:d.a,Spin:c.a,Form:m.a,Input:a.a,message:s.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWOJbPnJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM4ts3i9d6F47WiiqJoqNeczmP1uj93SPYAAfNvWPkDXddCIm7A79hU45JPUpT9vO-AbucGo1xoCL4uLCTlvXDT532Gx-uawFoWycXhN7v32seLQM7eNQEyZ0u73fZnO7Z-gK5gAfqB5CkE_UEP_fGHYm5mWoewUBYjbEuiHNC51YCXSgglJKlhKAzCuNNcqqE7rr0ziLAgW00E1ikL_TiX9M5SAITWUufM0aZx3gIcwjB7Y0XYJuFc8hyG1kkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQXtvMcMtlEgABlbAEHIkRew8QoAeAlNsNRxFSK0D0WKMAeizxgBFn5OiboAovmMmYcgcFpJWH5BkRglh6brH7GwLIBtOaXxSFcHORBAhHFiqlOxeV-isB8ZgOCTV2BBJCWtcJQULBeOibQHoHgrjRxwHk1wiV7ghFQIkYepNoIympG49uuRwyQGdOgMQB1O45wSGtVpUAIlpKiT4lEBSCCBNCMEjIySul9h6ZkmIR4BD3kGcM0J7AUn-mrK7NEkohQRnINk9aB19YVMiFUywNTkL4zQNkMQSxYnwTmSEg6GcawTFsKGB-_i1pXMSMZPmjy4A4HeW8-c8FPkPIJDgPp9pYrvKBRYb5msXEzJyBCgFHyVwwq2WtLZQLLbVhRPAtajd7kWBxHLEYHxyQCEsC4_YEYYVTIyPeD8KKQW0vhaMxlTyuh-IKGtGFkL1jyDGflCieLdkeN5kSk4JKHHinJZS8I1KmVwvpVC_E7KXlcvNLFLUWQcCoFGCTc0KqflgoIJisZvcjx4ryTgApKQilImHlcfZRBDlHU7icmA9Tcz6wJYa0FpFwV221bqkYCNlXitGKS6VFKjxUppYq9ADLeYQGaPKp5Wy7lW0oeYZ0YwnUup1vASgUBWDdG9evON0z7xrXDSSoiBBo0wCpf4dyOzSY-szsm9aqKPAZq3pnbtEYrURhtQPTuw9E1HwsI8A29ILWACvlQAZ5GAEXlQAWdqADfTQAFmqAAB9QA05qAELotdgAYf8AIU2gBIc0ACvxgA9tUAMt-gAc82wfzQtxaYB10nTWdoAA5Ycusi0lvYNEqADI8ybHMIKBIBRRK0AEABzghJRyknJERcyexUDOFCOQBETiPrUDPAIIQRw0AonFMpEIdgkQLyPhO_ezDM5KF9Ryue_iqNkOY6hFcWbamnIaaaswWLcb2jQFBgm7UdQzFZnANxoqLDZ1zlAKGVwvBFvFKgJU9DJDsEAPRmgAyFUALhKO7ABoyoAcyNAAyEZ4otQCZyQYyAB-TCShkhNU9OwAdvGACPowAIW6ABfUwAKWmAGvrQAS55MlQ-hzDcBbMRnQFcSwIr_2UC4I59TgAEI0APlKl7ADAMYF3D-GwtTUy0KaLrBYvoHi-wQAjJqAFJYtLvGgoGXmAk4QMxLX5MKVce1Kd8uFeMuXXV8DAn1eFW2_l1WvrdH7AcoiYpBZUMk4161zXimlLa-UypRFqlurqWcxpnWQpTFG868bo4hZXF29SCbQtGBIiOrFZttlW36w6aR-bET-Njj0AIYT3RTtUIAGrxAZNN-5N9CoBPYIp8kKn1gZCy1cXLAggUr1s5YIFAcERQF6_AoFIcjvLZgJ91Aq3OMeo22IIFzKn4rhxQgur6P2PwCGVNbrMxlWCqImjxnfLjJ8awKpfGhMpQ23BuZfh5BGBinpETNaF3X2GmSutK1I6WslLKXs7HIvadEwuesTAdwriyLoJgBRyjQqxVTgveB4mriifE6rsXBBLtd1yhyK4uOfuAZgNbvutu4orO20PPphizqjnHuHIiJEsiq8m6gF3f3Rce7EA2H1gOChXAJlAIiFHViB1R1TmY6fMfjLGzjg7VD0-k695nCnrP0-PtnVNY7-2I9V77GEFn2f09KD5VR8uzKq77bAG4uF7v1fHPWw0hs7rPUJqRz7qgyEpjB8L2ACMqVO8-7QOOefxjqVohgCv1AoUYAloENBZvXrzKb5T0RRN6wKJmIsQQaO0WfUz5oB8PoYYpgAGpYrTWVWvggr-8MXRYoC4YBlUON8UrZn9_9ehADMwv8ZplVBtqw6Mtc4Ar9vc98pgQ4e8YANEEhtEdhckmtbUFcFtHcuoC9B8pg1suNzk20Vxp1AA7D0AF35QAWDlAAseSvUAGqIwANeVAAI2zczvRXHLhDkcFn3RTaBfxgPf2VTrQjD1iOg2nYCtTgC9h9iB3zm332lYw4zAFQEHWILQKtk1hA3Cw9noL7U4BTVEMkLnyBigIAPf17SPk7QjDN3Bh-WoDQww3gDQLL0nXcJChwC8OC18LMNIlY1o2wTkIUPWighUMuQ9jUNvmBwv26G7kiJrBo3Ng4xXmVRLmMLiEwTwAjEhyFAsMXlcJsPEMBligcOkP0GcP3lcMCL32CNQBhyaKPlaM8I6Lww2TKIEEyLIWiNHHkNJiUISOhH6IEGSI0MNHiCQwyPyKyPXg40GJWO7kxUuRgDuHQJdh9wpxwLwK0R0QfwqJrAPwyGPwonQEcKAPGG32VXqLfxdHgJ_wYPU0AFA7QAEzSD0N0VxXDmV7iaAuiHk4UQT_8KdQ1GFycxjYjJi8lVDpj8NAkYAxgYdHwKd5hlIOQ5ik8FjU90iOQqM6Nh4xly5mdS1zITiCDthziy1eYrij8T87iGjMxgCnjhDbDIT2B3jlVp1AAgs0AB0Ff4wElNYE9kggME6FCEqUnAKkmE3mbImIiY-IpEpYQYtEjEmYx8Kk3E_EoqQkpYkk7YoeNrCkn3c1akiiWks467OyAw2bW1cgvNFbGPcXGgwnUfC4qddTQAIwNABYTTFKTRTQAEJmSbiiI2TXjQT_C-Zp1AA0zMAEJrEzGdOndgI9QAFL1ABpr0AGdlEzQ9QAeLTAA4FV3QPStlcBGDniwOQidJHVY2yKBLlNjOlPjO3iL3MElNbOeRrydOHUKQnnNNNNhN5g43Hw2zNPJNSULEwM4FewAyF2OM0TpKlwsAdNl0MMf0gKtOQjEI5MLFn0hJWNgCwNHCdzV2oIJwnxWNcLDJ6KVncFkyHLDL_0hJlI7LnxCGrPHBDn7JHSHPHU2KtlcJeNgLsNimqLjPbRrGnTnT0303XQ3UPVYPLLXXLRbPAvaXROcWmSoIbGwUbkE2s3iCF3rMKTxOwQfLAwsxSCs2g17H8Ds3mUbwsGGLU3YEACDNW9QAPujAA7f0ADC5dgGTeIQ9QATCVAANvMABLo1C_ddCyw1wt8qU9gd6PYMTDwx8nOeID8hM9TKsmsicOsodACweIC7BJS1staNIlYi2aEIk9szOadNC7BAWCXH8qYbs8C3sunf8wc0ytrdi7Ii2TNTsg2E1RhdPJOai8zCDBc-IJYB8kSqAYOZCNeasfY2c0KLoQHZc_As4lccil0x1FXD0q8icn0xkxy9TQAJjTAAja0ACg5ZMwAB1NAA7YyvR3KPOUv5JApTWivA0sziqgB0qsPWnvPUqCKSuGr9K4tvVPT7BipnEPS-MADAXRqtzEMo-aEwKtY0K4ihiqAMiuXCi4CreadQAF7dABS40AAX40zLeDjP84yvysdAKxAyKkOBK8atomi2KqDADNKtiy0uc5HecXK04wgiA3mMC9_Pk7_AU9TCYIQMYdwFEoUOE-_BE9U0FTUmY7U9gTE9oYG2AA09gRPI0tI7Qqci0mcm_cxLYe_Aqo6kg-bJXKTc2Foz6n5b6ga367ShymsPaxcyOcgJU2jOypDO8xKp83mmC6ay6wAHgVbrF4Hq8kBzbVAKXqrYsUKFQqIbF4oa3jYb14trNjXqVwoqObNLZMPrxMFSFq6LBqUquJ5yeaDqhb_qN4zVQqE91CCS_c_xSaUh08tSzoDE_xBj08V4rg_bfkkjhD3AUdc9kIrhJatKoAVLsMLaub7aXboZ0yLUrhsr1CS84Uyct4KdG9rTG8qS28F4kC0ZOFBpthXA0gjZqBAJdAQIDAwJ7l-BUBvRGQkB2B-AfhixqgMhzQfwyQB6F5-BD98hqB-Arh-BUocAV7Uoep1h-ByhyB-hPrF6h6QALIzo8JYBoQsBvQp7jhdjvZEhcw8guVTRJRzQR6_hSwN7qx-A_F97-AhEjZ36LAt7di9d4QIB4B96fV-BH7RBB7-AAA9JBHAAADhwHKn_prH4HUm_pAFgaTBwAACYV7po0GAHBBNRLRIgsH4HyokGUH-A-VeNOFR7vAPhqBIAUhW7UB27xFQIQAGYQBaAfQshF7h7TRaBzQoHzRZgZh-B5AFAmEgA",mdxType:"Playground"},function(){return Object(j.b)(function(){var e=Object(g.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0}),n=e.data,o=e.loading,t=(e.cancel,e.run),l=Object(r.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(j.b)(u.a.Fragment,null,Object(j.b)(c.a,{spinning:o,mdxType:"Spin"},"email: ",l),Object(j.b)(d.a,{onClick:t,style:{marginTop:16},mdxType:"Button"},"fetch"))},{mdxType:"Demo"})}),Object(j.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(j.b)(i.Playground,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:o,Playground:i.Playground,useState:r.useState,useMemo:r.useMemo,Button:d.a,Spin:c.a,Form:m.a,Input:a.a,message:s.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzFPM8omgEmGapmsLC6Ag-nMMBRy2iNikIW57keTIMEiCiBBwI9JFmCBig5HAJjoCMujsOmJ3gf84GoBG3z5iw0cZw1QdZ9gtWoyhuatiwloI9BolcJYoEoDsCiWGIjwEJY0XMNDYtc6zbIjWmjvZzmoARpYAG0AF0lh583zaiVBQniK5UQZXLM75wUEgKUTaAEVg84y1K66L4v5DN4vXeheO1ooqiaKjXnM5j9bo_d0j2AAHxH1im9DeBQiJuwx_YVOOST1KU9H8fgEn6jXGgBvi4XofXDT532Gx3uawFoWyb3hN7uv2seLQM7eNQEyZ0u73fZnO6t-gK5gB_qA8gpAP1QLfa-jB2I3GoDgAA4khGYZ0DKwEulBBKSVLCUBmFcaa5VUJ3WPpnCBHFmTUHsFAWI2xLohzuiiVw9pS7kJnFISBnEwF3yIVA8wpDyE7EugHDIOB8oUTukIoizDiGgIIebDhnE9ioDIRQvh_IBEokwTQiIMxxGcLYeAlhJD5E8MocAfhitdahCPHdMxR4tGsKkduPRqBYHwJ0XzKQLiT5WzRpnC-AhzCMHtjRdgm4VzyC8bWSQFMsZmC_CAOATkXJETcrZSQnlcAEC0BQYC-gGCmXtFBe28xwy2USAAGVsAQciRF7DxCgB4CU2xKnEVIrQRpYowCNLPGAEWfk6JugCi-YyZhyBwWklYZRAhGCWHpusfsbAsgG05q_FIVwc5EECEcWKqVBl5X6NXWgxx5zwRWeY9Za0tlBQsLMvZ3RyAeCuNHHAjy6EpHuCEVAiRF6k2gjKakkzR65HDJAZ06AxAHXHjnBIa0IVQG2Zc3Z8zaHCmOWsjIZzYV9nhfskx95kWnM2ei12aJJRCgjLc-5B19bfMiL8yw_zkL4zQNkMQSxMBwSauwVZ6yDoZxrBMWwU9FkFDWqy-Cxk-Z8rgDgEVyRYrSrFbygkOBEVTFlYcxI8qLASs1uM-8wq1UavxPy25a1bnysttWVRCDYr9x5RYHEcsRgfHJAISwyj9gRi1di9AH4Vyep1TkfFvrFVdEFTONaWq5XrHkOi0R3RrUUumbze1JxHXDPFC6t14QPWKq9T63mWqQ3byWewc0sUtRZBwKgUYJNzSGslcqs16KrFxvWo8nAzzXlIkXlcKlRAaVHXHvSmAQLcz61tXWpVpF7RlorVWkYCMDXJtGE69Nrqjzur9YHe8ea-YQGaNmo1HhuVWx8eYZ0Yxe39p1vASgUBWBxsTXvTdGRdWxSXY6oiBA10wHdf4dy60E1xTPru_dWrbnHuA-bMDHgIxtojB2teC8U4ch3XfIJkgDb0iPOwQAV8qADPIwAi8qACztQAb6aAAs1QAAPqAGnNQAhdEkcADD_gBCm0AJDmgAV-MAHtqgBlv0ADnmdjMO3vvT3NDNZ2gADlhy6wE90auUAGR5k2OYBh5c9BV17LYM6o5STkiIuZORzhQjkARKMj61AzwCCEEcNAKJxTKRCHYJEu9r6ob3mEzOSgJ2FrQAUZzNYm4GtcwbQWviAUMuBY2sw5rcb2jQJXAm7UdQzFZnASZj72DZ1zlAKGVwvC3vFKgJU6H2CAHozQAZCqAFwlKjgA0ZUAOZGgAZCJmbexhKQK4ZBk1ljlJyMgFceOwQAdvGACPowAIW6ABfUwAKWmAGvrQAS55MlQPpwz8A4DtYjOgK4lhAOsEoFwbrGHAAIRoAfKV2OAGAYmbZmLNLamqdoU63NvoG2-wQAjJqAFJYo7EWgoGXmBy4QVrW1PMSp295nz9Yba20MkKUwq2YJWV9taNro1va-t0fs1KiJiiC6gFLMO20dquF25DXyfliNpYOwFjKQXGVbkjvtKPRxCyuJT6kqOhaMCREdWKf7bIAdJtCuzbz1VBSi2OFTcXuiM98QANXiAyDHPKP6FWWewHL5J8vrAyGdq4l2BDyoPu1yw8q4i2XnFDzB8qQ504JzAUX6OicheHaTsQ8qTF_xXJao3MwDXNtdwa2Nnuo3GUi1gVS-NCZShtuDcySTyCMDFPSIma0WdCcNMlH77a_s44B3jyl5uo_TyJsy9YmA7hXAKXQTAxSymhViqnBumCktXAS0l7PMeCCs4nrlDkVxLcS9kzARvM9m9AZdmDhetCWkaYIKvcORESJZGz2jrvUvo997EA2cdsuChXAJlAIijn9cIigK7xzpuMXI4tzT3xjnHcD_Ni7z7mDHP82nkeM3J_Lf377GEIiB-QkNz8-sVuJiO5qcwBJlxle9c86USdgUGwh0R1vU9ch8qBkIVVzI2kIxUpUNW4vNkCKJUCC4YAMCh8YB70BBoIP9R0UDh0IxN8iI811gKJOlukCBo5ANx1ECaAPg-gwwpgABqWKaaA1LAjg8zF0WKPA93M_cwG1K2NgggIQrg9gXgmafzM1FlGAO4Wg6sVuEOQAmAapBIOpHYB5X7F5NPD5ZDHtLPRfWPYnULJlUmcdHrQAOw9ABd-UAFg5QALHkONABqiMADXlQACNtBseMVwtDkJHAkCTU2h2DehhCaADVP0Iw9YjoNp2A204AvYfY5d840Rugm4fNT1E9YNjC4Bm4-ZNYFNlsPZ7Dj4911oQ4wjMxAZYoZC5D9AIM74aiIwa9wZJVqA5sjNiir874uiQocBeiDN-iKjSIfM3MpF4jEj1ooJUiWUPZ0jP55dqCciUMDU-YAs-Z8iD5tj9orYPhogxZVchQqjIMOi6jIiVUgZmjoiuC2jr4OjhjUAejUANdnihjEtujRjPjzMSVziBBpjzZdjr9RwEjSZkiljoRASg52A18ipDR4gdNcjDiLZj58jgTDjf9qx3MC9iiCUh9LUdC9Dal6lmDLi-YiCMhSCKJ0AWiGjxhsiDUHjOCXRFD-CVwetABQO0ABM0ujMjFcDokxJkggb43lcZcUydTBBdEJZ3SE-YmEx5NIuEizFZGAMYDXR8S1eYZSDkVYzIlErfTY1DdzReYk94qYWNMkmpAw7YKksdFcWkkgsgxkx4kQlkhkNk248UhQvgg1HrQAILNAAdBSFJFNA2lM9JoElM1WjI5PYNjXlN5gCzmOhMWNVKWGBM1O1PhMfFjQNKNPXxNLRK2KjWTmQytNCmbTtP0MpPZzskKJTxeXby6hPzAKmBsNtygOpJrB60ACMDQAWE0IzeYOiABCV0-koiD0xMiUwY_sjDQANMzABCazq0w3MW6AY0ABS9QAaa9ABnZTq3o0AHi0wAOBVqM6MrZXARht4pgQ5myO0fMAtRSEyYj5zx0H80dxhXyuCp4sMYBmz4M_tENF4nyVx8iYDScVCkMNDB9rTOAVMZMI86yKTDCVxGzk9Hy-y-YQj5FbiIikDxTDjYA7zRwO8c8uybdYDDiJy3jJV0tex55xzBCYz3ysTRw48bzxx7y4MEN55QLcSrYOj2S3yYogYbikC4zFzcMKtKtSMyN6NXCLySNj4xTWKoUtSxlA5OyGwpF-4YtWt4gI8Hy_tDSpE6LBFGtlNK4ZMedOUMg38LBQSLAetAAgzW40AD7owAO39AAwuTS3cAy3o0AEwlQADbzAAS6KUtoxUquP3RYrnPYHej2F-JGIYqgCkr5h62vNvInGQkAr4vHgEqkTitEtig2IxLknnB0w_PNh62UqkQFk4uyrUrnL_M3LyuAv4uQ2ctQk8RPQkMC380cyTgsqUxnBa1UygCWAstSuDmQiPmrFgsLHgq6FlxQodITwsBMtbIsI7KsMosgt7OdLPh60ACY0wAI2tAAoORXMAAdTQAO2MONpC_T1KuSaL90RqrKxrEL4h0rOB91xzpqArvqFzM43LuNmM-wPqUh6NeTAAwFyusG1HLvktRTJc3Yq_IMomuMqx1MsEuOow0ABe3QAUuNAAF-PqzPnyJ4seSApeRAq6sGpXCThDimuSveMsrLk-psviHmqcurKmF33nDWspKkN5hEvkJep5IwwmCEDGHcHVKFEVKYOVMzKVWzPhNzPYB1PaH5tgCLMRIyJLI2P2nNMrMWvoK6S2CYJXC2v-zMJYKErepZslVGuay-rSuBprAxqQsjnIBRrBOhFNN-vWn-sdqVkBrduqpcoJsJsAB4FMmveSmnAamueAqum3q_0cm_q4WveUWzkwM4-ZG0EuHVMoagGnOeIZmpLNmprcamTWariBCzmqACPbmk-Jtfq1ffW5EkfP8JElIRzHMxBCtYExzA-K4buqVFY4I9wPfQ_ZCK4UujLBKkzEO52mu3sGGWsq4FajIi_cZJ3M-S1N_ZtN_WNRzJQX3V7VAGJQabYVwNII2agQCXQECAwMCHlfgVAb0RkJAdgfgH4YsaoDIc0H8Mkb-hufgYg_IagfgK4fgVKHAeB1KHqdYfgcocgfoFmmB3-kACyM6PCWAaELAb0UBg5MkSgRIXMPIIVU0SUc0f-v4UsZB6sfgRZLB_gVJI2JhiwVBtQkveECAeALB8dfgGh0QH-_gAAPRwRwAAA4cByouGax-B1I2GQAJGkwcAAAmeB6aRR7hwQTUS0SIVRqR8qWR-R_gKNCLGJAB7wD4agSAFIB-q-7QZ-7JN-_gWgH0LIGBv-00Wgc0UR80WYGYfgeQBQUJIAA",mdxType:"Playground"},function(){return Object(j.b)(function(){var e=Object(g.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0,pollingInterval:3e3}),n=e.data,o=e.loading,t=e.timer,l=e.run,s=Object(r.useMemo)(function(){return(((n||{}).results||[])[0]||{}).email},[n]);return Object(j.b)(u.a.Fragment,null,Object(j.b)(c.a,{spinning:o,mdxType:"Spin"},"email: ",s),Object(j.b)(d.a.Group,{style:{marginTop:16}},Object(j.b)(d.a,{onClick:l,mdxType:"Button"},"start polling"),Object(j.b)(d.a,{onClick:t.pause,mdxType:"Button"},"pause"),Object(j.b)(d.a,{onClick:t.stop,mdxType:"Button"},"stop"),Object(j.b)(d.a,{onClick:t.resume,mdxType:"Button"},"resume")))},{mdxType:"Demo"})}),Object(j.b)("h3",{id:"\u8868\u5355\u63d0\u4ea4"},"\u8868\u5355\u63d0\u4ea4"),Object(j.b)(i.Playground,{__position:3,__code:"() => {\n  function saveToServer(data) {\n    return new Promise(resolve => {\n      window.setTimeout(() => {\n        resolve(`${data} saved`)\n      }, 2000)\n    })\n  }\n\n  const Demo = Form.create()(props => {\n    const { data, loading, cancel, run } = useAsync(\n      data => saveToServer(data),\n      [],\n      {\n        manual: true,\n        onSuccess: data => message.success(data),\n        onError: error => console.log(error) || message.error(error),\n      },\n    )\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    const { getFieldDecorator, getFieldValue } = props.form\n\n    const submit = () => {\n      const fromData = getFieldValue('name')\n      run(fromData)\n    }\n\n    return (\n      <>\n        {getFieldDecorator('name')(\n          <Input\n            style={{ width: 300, marginRight: 16 }}\n            placeholder=\"please input your name\"\n          />,\n        )}\n        <Button\n          type=\"primary\"\n          loading={loading}\n          onClick={submit}\n          style={{ marginTop: 16 }}\n        >\n          save\n        </Button>\n      </>\n    )\n  })\n  return <Demo />\n}",__scope:{props:this?this.props:o,Playground:i.Playground,useState:r.useState,useMemo:r.useMemo,Button:d.a,Spin:c.a,Form:m.a,Input:a.a,message:s.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNAlgAMSFIglgaVAZnCJYjzgCo0lQ9CGPcAh0GY_C5UU9BPTgSQiNgSVtIIRJfRVVA8PVQiYAAQTgRJUHIeT3W0gRyEkCirJs5zVGwFSzMDSV7MYxUwVs6gUWOU4sJIwz4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZxSgAWLL2AANiynL1jAYD-O9aBEhS_hnEOBEHUwGChH4STqEoOB8oRarq1qmhnAgLDLnYABGYrcvkILdFCiy5hi9gIyg8gbCgdAw1QjkYrEdboxkdgUSi7hgGwyKsXkLca2ALboF24IADJXvGRJ5koZonp2vbuEBuUwGQyUBlQdp2AAfg2Z6wwjA6rj-l7UAW6spBkKs3zMGEzMwMAwigKYEcO470ZW5dqwsYASe4I7gBXCwQds7tzAqVgYEsShnAyDmBAjdBolcA6GapmsLC6Ag-nMZ0xmgmVqQjLo4EoKAOdJ0Xxa1vNVFGHAiIISx-RgfYI1p-nGe1id4FVjmI2KAASK6hbQ9nsmKN8rZrJR2AAJlSgPPat-Qg_FtHLaWqYtWo4dYsEgQiA-U1aARiN-0oQc6bisXxcj1jjiFpYoEoDsCiWOJbPnJY0XMNDYtc6zbKjHOtcF0jSbdrmeYEPmBaFjlcq9iwAG0AF1B6HzWh4sKJUFCeIrlRBkJ-n6hnFCcgEWkq429cUmpJkv96U3-A4D70iB8t7XqDPAQhDLaE76FUmltVv9i5SCMMnvg6AB9f_YAfVwaQcDfyFF_J-AhL4tzDivLWoctZ52oq4aAa0KJURos3ae5t1pm13uwf-rEQ6hngKEImdhCFjw5MPVKo8CEAOAMQ5B0A4Ha2HrvceV92AINziFAip5-IQHnOgaOVBMgRAEEsARQidoADV4gMjkrFdOdwcC1QTkFL2ed6QeCIOOWKOCp5aL4fJLUQs1rSOEfIqADJHyoG9DAV8XCJbIQjPRMxF8uHhxgdbKWAhzBYKHowe609gCWJ2qIoU0RwHtHsUeV8gTp4JlEuJUQPivbnVgJdKCOJ0ATCuEmAOklXCJTQCKCAKRCBXGmuVVCaMklazJBKGAwwdoZD4CAMk4oiKcDEuESERw4mMhAM4rWm5WFWw5PUpJjB2I3GoKM8WBl5gdP7PyEpiR-CLJrMXUuM5Lq7MKikaZDTqD2CgLEbYl0dF6IICcpJmSYDZMASUpKXMZjVNqfIe5XsQkPNcBzbZUg5mcT-drKQYKaw8P2pbSW0tazRxouwTcK5vnRkkBTLGZgvwgDgE5FyRE3K2UkJ5XABAtAUGAvoBgpl7RQWjvMcMtlEgABlbAEHIkRew8QoAeAlNsTlxFSK0EFWKMAgqzxgDAFsKYdE3QBRfMZMw5A4LSSsMbAQjBLAWzyv0VgWRrZRDQAUK4c8iCBCOLFVKSrdVsANZgOCTV2BmotWta1mi-x6oNeQDwVwzY4ADa8-4IRUCJCoaTeWkRqRaoIbkcMkBnToDEH_Z1ZCoBrTngkG1Fg1n6toGdUiwpTWhHNRkN12bPV2vzTEI8Ah7zFtLZa9g7r_TVkjmiSU4CfV-oOlnSNeiiIxoAchfGaBshiCWA6-CDaLUixXBMWwJCjUmRnGtKdiRjJLIJDgdda75zwU3TWBdcB9aFqmLFddh6LDHpwDWjI9492OqvfiRdPq1o-sPd4iwKIM5rUMSuHEGA9YqvFAII2R5TY3rvXW9AH553bugw-q1z6b1dGXQUNaN7L3rHkBW_KFE_29p1eLQDJwRgfHJGB42kGEMavvHBsWqHmErtnOaWKHi_yoFGCTc0L6T0ohKQQT9FblYlu6AYgNOAg1XCRFQq4_bo3atjSOmACbcxZyMXx09gm1ocZwFxkYCNn2keA5R8DJtwgRig3R2Dz6IDNCs9un1c6W5wv8c6mAcsFaDu1UrG2atxPEattZ2tSGdZAfIwbczpt_DuXWkR7O097PrRvc5xLSTUseAjJJiMQb6HsCoQxhpjxrb0iPOwQAV8qADPIwAi8qACztQAb6aAAs1QAAPqAGnNQAhdENcADD_gBCm0AJDmgAV-MAHtqgBlv0ADnm2zla2xgIkpJ7QAByw5psBfYPqmx3QRibHMIKBIBRRK0B7r2WwZ1RyknJD0gja8N5bzsB9G-kDekonFMpEIdgkQTO1kVoePzvZLCY-hmc32w7A9QiuNz5gVNqfQMJsw3jcb2jQIdgm7UdQzFZnALVQXZ7zygFDK4Xg37uCVMiyQ7BAD0ZoAMhVAC4Sm1wAaMqAHMjQAMhHrF2xcmcB3ebxHx6mxtJOSuADt4wAR9GABC3QAL6mABS0wA19aACXPJkqB14n2kjzgWVxLAJdYJQLg_OyeAAQjQA-UrDcAMAx8vb73xV1NM3QoNda5h6T9ggBGTUAKSxxu4dBWWd0Ljv6JOBsSsG2To8bfa-VSYr3HznXCBmIRjWuH3dfW6OnAdMAxR-NQFjv9knpMhrDYHiN3mYBDrjaOxNYhjJ50T9SFP0srgV6IlX_xjAkRHVirF2y8XSaZvTf4bPNqEdjj0AIFH3R6-oGsQydPU9DkmvYIT8kqBD1gIEDzq3AhD27x55YQ9FcERQFNZHw9Nca_55H4XqHY6k2Hug1cTTP7w9h-faJo8e-M7Pvw0RZ_MxYeoyCn344qnCZSigyszmRErkCMBij0hExrRN6BJgDJTrSZ5-4yahrhp9r57gGkJEwTrrCYB3BXAMp0CYDMpsqhSxRjwTwZwY5XBo4Y4YGQEEDN5EK5QchXAj5j4F4QFkIMHpZ5zDwCYiqnYEB0L1xEQkRZAYGp7sF0FcFiANiaZT5FSGjxBERwLb7zgf5wKH6epRp16jjSxwJX7pbiy34aGwqkJP7aFJ4j4TJv5TRh5wJKA4bfZ5zQZoK6FgBaoarSFYHKbxrn4Nhn6JrOEmJUDITnrmRioRipTBGoChTGrhEUSRFLwwAxGhQwB8zQRhBEQ5AiHJ6qZuLKEpEVoUSSrSqShmwJaaahE0AfB9BhhTAADUsU00dmJkBAtRd8LosUyRD-eh7m_6Lc1R7RvQnRmYTRM0z6se1YPsuBcADG6wecNcbhMA3KCQfKOw_qvuKQ_uKBge8m6BnBUBw6fhJeGsK4JWgAdh6AC78oALBygAWPIjaADVEYAGvKgAEbYi4TYriLHISOBhHvptA1EjH1HPoGwRh2BZwbTsCSZwBFwlxHKLxojdAhyg4Q6GioDZZbFzGWy3rbbnx7waZcLJZKw_EAnnpAxDEdH1EuZJYOaUHgwnrXZK5zFGFDx0khQ4CMm3Z4mg7ay_bGGjhgmkyQnQmTqFzsAKEpBXAExQA9LInPphxcKom7zykwotwfDRBbQQL3xnE-JEk1y_GZiAyxQUlAn6DUlDxElsmxEcmoAr7mmrzo70k2kr5anW4qkKnpKCGCkQlQQimPz3ywl7KSlKEylIkcg8neyKl9HmCL4qkhyfqTowB3DzFtomK37LGrG8r8oVE6nizpEZCZEUToCUldHjCInPoml1EujjEtHnFk6ACgdoACZpXWTWK4RJ0GJZNA9pR6GqnZ7Rt-RmqKK4oJ4JR0wpAaMJ_pQopqnm7ALp7Qt-8wykA84pcJ0-0psp4ZCZBWgeFa5eWR4m5kmZ6x2wOZBJYs-ZAghZ2RfZmG5ZXxpJt5NZz6JWgAQWaAA6Ci2W2Q5h2aaV2Syder2X-e0bYYOWLPciOUKb6ROUsIvjOWMPObYcuYGfCSGZud9j7FQnuSYo_oeRRMedma3nZBiVJn7iwV1DoRwZgVMMccXuOrmTWCVoAEYGgAsJpflixEkACEl5152QfZ3ZFgJWgAaZmACE1szqVmJuwD1oACl6gA016ADOyszt1oAPFpgAcCrtZdaWyuAjAoJTA1wkVBqg73LtlAVVn_maYSzRnjCmWjHtG4UkW5Z-75aFaTHg5WWBHZDblYUep5xI5c5QCgEZk8onlzZEUIGYmVERw4Ukl_HGmPnAUqmwB6WjisHUW-F0Uw6WxcVWkno469iEKcXxH8UAU1iSzQE6Xjj6U5Z5aUKB4Rm_ZEmVm2UxRAz6mkkCWMVk4Va0506NZNbdY3EaUNZcK_lmXhGyzqq1reEMFzbaw4J-VHYBWNzkAGVkWfY1g5U4Bs77YD7rZva84WrrURmCVk6ABBmuNoAH3RgAdv6ABhci8nPPEN1oAJhKgAG3mAAl0YNZ1sNbqQ5kVcBewO9HsI6eyXlVAB1eLCVtpbpROK4tVU5bVVuaMn9WNWtBuTAO6XJPOD0hZWMmTkNaMmVS3hVVMKNbZSQmVrNnDdsc5XVRjb9r9qiZLJMXAsPJtdtRzrtfEEsJtaDdXMhJwtWCmRYIsfOHCUFWsdmSuKtdseRQpoOocTRUXqpv4QxRDWToAExpgARtaABQciJYAA6mgAdsYjZRVhFPnNEqmWnA3Wns0pCc6LXg2cAOacU83uC44O0nXsDnX9Z9iqzs4pDdb1mABgLrrSLuxdPAOcdWDj4qiQtetqAdLXMXGZbCVoAC9ugApcaAAL8Szq5lZVVQGo5dTQjUZSzTXNzVbSejbXbetgLRYELYWLEVMGoemrkQRRsQMbwqbf9c-XWfiEIGMO4FOQIMOQKaOetNBfrLBZAvBXOZAo-E3dkK-CheuYUftBhUsN5a2hYCUVKjKnNgncgTnpFS3JbRjltb7TtYdutg7bHfEPHfVdCKGY7etM7eXTgKDQ7anWnYADwK2dXsedOABdFCACLllsX6WsqJ7dVsTV9R7A3dPiEdcZzNK4rNr9vNQNp9ldnNUAfNXEvSl9t9y1Nd3CImVl8ha5ih_B785DKQcCcFBaWQoCkCcCu8VwlDO6hcXx7gO-mhyEVwLtD16agNbN59HN-D6aMMuF7AVwXQhyBhGq1-lst-EyuFNhB5DhE8UxaMOKg02wwCf4mg1AgEugIEBgYEU8_AQy_AVw_APwxY1QGQ5oP4XSPU6w_AfM-QCySA7A_AqUOAvjqULj1Y_A5Q5A_QVtVj3jIAFkZ0eEsA0IWA3oXSf-ZIlAiQuYeQGGpoko5otjfwpYgTFg_Ay6ET_ApK_4cABTkTuBhB8IQiFTXjmm_AWTogXj_AAAejUjgAABw4DlSVOFMgDqQlMgBtNJg4D-w4DTT9ORPNOWiRDDMdPlTdO9NbLTFw44p2PeAfDUCQApDlOGPaDGPUpmP8C0A-hZBWM2PJwwDmizOzAzD8DyAKDfJAA",mdxType:"Playground"},function(){var e=m.a.create()(function(e){var n=Object(g.a)(function(e){return function(e){return new Promise(function(n){window.setTimeout(function(){n("".concat(e," saved"))},2e3)})}(e)},[],{manual:!0,onSuccess:function(e){return s.a.success(e)},onError:function(e){return console.log(e)||s.a.error(e)}}),o=n.data,t=n.loading,l=(n.cancel,n.run),m=(Object(r.useMemo)(function(){return(((o||{}).results||[])[0]||{}).email},[o]),e.form),c=m.getFieldDecorator,A=m.getFieldValue;return Object(j.b)(u.a.Fragment,null,c("name")(Object(j.b)(a.a,{style:{width:300,marginRight:16},placeholder:"please input your name",mdxType:"Input"})),Object(j.b)(d.a,{type:"primary",loading:t,onClick:function(){var e=A("name");l(e)},style:{marginTop:16},mdxType:"Button"},"save"))});return Object(j.b)(e,{mdxType:"Demo"})}),Object(j.b)("h2",{id:"api"},"API"),Object(j.b)("pre",null,Object(j.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    onSuccess?: (d: T) => void // \u6267\u884c\u6210\u529f\u7684\u56de\u8c03\n    onError?: (e: Error) => void // \u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(j.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(j.b)("table",null,Object(j.b)("thead",{parentName:"table"},Object(j.b)("tr",{parentName:"thead"},Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(j.b)("tbody",{parentName:"table"},Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => Promise\\<T",">"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(j.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(j.b)("table",null,Object(j.b)("thead",{parentName:"table"},Object(j.b)("tr",{parentName:"thead"},Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(j.b)("tbody",{parentName:"table"},Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args ","|"," any)=> Promise"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(j.b)("h3",{id:"options"},"Options"),Object(j.b)("table",null,Object(j.b)("thead",{parentName:"table"},Object(j.b)("tr",{parentName:"thead"},Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(j.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(j.b)("tbody",{parentName:"table"},Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"onSuccess"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u6210\u529f\u65f6\u7684\u56de\u6389"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"(d: T) => void"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(j.b)("tr",{parentName:"tbody"},Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"onError"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c\u5931\u8d25\u65f6\u7684\u56de\u6389"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"(e: Error) => void"),Object(j.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}B&&B===Object(B)&&Object.isExtensible(B)&&Object.defineProperty(B,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),B.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,o){"use strict";o.d(n,"a",function(){return b});var t=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=o("./node_modules/@babel/runtime/regenerator/index.js"),a=o.n(s),m=o("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),c=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=o("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),A=o("react");function r(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,t)}return o}function u(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(o,!0).forEach(function(n){Object(t.a)(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(o).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}var j=function e(n,o){var t=this;Object(d.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(t.timerId),t.timerId=0,t.remaining=t.delay},this.pause=function(){window.clearTimeout(t.timerId),t.remaining-=Date.now()-t.start},this.resume=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(t.start=Date.now(),window.clearTimeout(t.timerId),t.cb)return new Promise(function(e){t.timerId=window.setTimeout(Object(c.a)(a.a.mark(function o(){return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t.cb&&(t.cb.apply(t,Object(m.a)(n||[])),e("No resolve value when pollingInterval is set, please use onSuccess & onError instead"));case 1:case"end":return o.stop()}},o)})),t.remaining)})},this.remaining=o,this.delay=o,this.start=o,this.timerId=o,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var i=function(){},g=function(){var e=Object(c.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(A.useState)({loading:!1,cancel:i,run:g,timer:{stop:i,resume:g,pause:i}}),s=Object(l.a)(t,2),d=s[0],r=s[1],b=Object(A.useRef)(void 0),p=Object(A.useRef)(0),B=Object(A.useRef)(!0),O=Object(A.useRef)(!1);Object(A.useEffect)(function(){return p.current+=1,B.current=!0,function(){p.current+=1}},n);var E=Object(A.useCallback)(function(){var n=p.current;return r(function(e){return u({},e,{loading:!0})}),e.apply(void 0,arguments).then(function(e){return n===p.current&&(o.onSuccess&&o.onSuccess(e),r(function(n){return u({},n,{data:e,loading:!1})})),e}).catch(function(e){return n===p.current&&(o.onError&&o.onError(e),r(function(n){return u({},n,{error:e,loading:!1})})),e})},n),h=Object(A.useCallback)(function(){O.current=!0,p.current+=1,b.current&&b.current.stop(),r(function(e){return u({},e,{error:new Error("stopped"),loading:!1})})},[]),w=Object(A.useCallback)(function(){O.current=!0,p.current+=1,b.current&&b.current.pause(),r(function(e){return u({},e,{error:new Error("paused"),loading:!1})})},[]),y=Object(A.useCallback)(Object(c.a)(a.a.mark(function e(){var n,o,t,l,s=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,o=new Array(n),t=0;t<n;t++)o[t]=s[t];if(O.current){e.next=4;break}return e.next=4,E.apply(void 0,o);case 4:if(!b.current){e.next=6;break}return e.abrupt("return",(l=b.current).resume.apply(l,Object(m.a)(o||[])));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e)})),[]),Q=Object(A.useCallback)(Object(c.a)(a.a.mark(function e(){var n,t,l,s,c,d,A=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=A.length,t=new Array(n),l=0;l<n;l++)t[l]=A[l];if(s=p.current,o.manual&&B.current){e.next=6;break}return e.next=5,E.apply(void 0,Object(m.a)(t||[]));case 5:c=e.sent;case 6:if(p.current!==s){e.next=15;break}if(b.current=new j(function(){return Q.apply(void 0,t)},o.pollingInterval),!B.current||!o.manual){e.next=12;break}B.current=!1,e.next=15;break;case 12:return e.next=14,(d=b.current).resume.apply(d,Object(m.a)(t||[]));case 14:c=e.sent;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}},e)})),[o.pollingInterval,o.manual,E]),C=Object(A.useCallback)(function(){p.current+=1;for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return o.pollingInterval?(o.manual||h(),Q.apply(void 0,n)):E.apply(void 0,Object(m.a)(n||[]))},[E,o.pollingInterval]),k=Object(A.useCallback)(function(){p.current+=1,r(function(e){return u({},e,{error:new Error("canceled"),loading:!1})})},[]);return Object(A.useEffect)(function(){if(o.pollingInterval)Q();else if(!o.manual){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];E.apply(void 0,Object(m.a)(n||[]))}return function(){p.current+=1,h()}},[o.manual,o.pollingInterval,E,Q]),{loading:d.loading,error:d.error,data:d.data,cancel:k,run:o.manual&&o.pollingInterval?y:C,timer:{stop:h,resume:y,pause:w}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);