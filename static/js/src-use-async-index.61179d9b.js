(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/useAsync/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d});var a,r=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),A=(n("./node_modules/_antd@3.21.4@antd/es/spin/style/index.js"),n("./node_modules/_antd@3.21.4@antd/es/spin/index.js")),i=(n("./node_modules/_antd@3.21.4@antd/es/button/style/index.js"),n("./node_modules/_antd@3.21.4@antd/es/button/index.js")),s=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("react"),l=n.n(o),c=n("./node_modules/_@mdx-js_react@1.2.2@@mdx-js/react/dist/index.es.js"),u=n("./node_modules/_docz@1.2.0@docz/dist/index.esm.js"),g=(n("./node_modules/_antd@3.21.4@antd/es/select/style/index.js"),n("./src/useAsync/index.ts")),b=(a="Demo",{}),m="wrapper";function d(e){var t=e.components,n=Object(s.a)(e,["components"]);return Object(c.b)(m,Object.assign({},b,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"useasync"},"useAsync"),Object(c.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(c.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(c.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(c.b)(u.c,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:u.c,useState:o.useState,useMemo:o.useMemo,Button:i.a,Spin:A.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoAjLhluJ3GawsLoCD6cwwFHWaI2KQhbnuR5MgwSIKIEHAj0kWYIF-rhuAAEmALh5GKDkcAmOgIy6OxCZJ5mJ3gf84GoYG4r1ms3zNyHdbJz7mS1ajKHRxmzYsUapgAbRRMjNtHABdSaKJIrIIzCi2Xbd1jjmiVwligSgOwKJY4j0-cljRcw0L8sydL0iMCdWqmaagCMvdoDklnd3XmdLmBTZd32w7NiPqNcaAA6IqiaKjJmzfzqa8_QaP2AAH2H1j5FVrXQlRuxR_Yd2G_dsL_bn4AJ5wFvoDrl358H0jfe3vW4Z7mtWfZzGd4TI7L9rHi-OatBVJnHa44TmdDqrl2Y1kLgrmAGv5DQ1jLWGGm8oB_zAYAncshP7MykHfVA19L6MHYjcagOAADiSEZibUUrAHaUFArBUsJQGYVw-oZVQh_E-O8UEcWZNQewUBYjbB2unQ6XRX7oCkKgziSCb50LQeYRhzCdg7WTgiKAh0JHzh4fQxBsC9aCM4nsVATCWE7T7kRAgEZ9KEx6OwAA1P1Dkh00DkFNERTg3DJC8OoPwr-tj5GYOwQ4uBm5P6NxrJDM2Z8BDmEYPbGi7APFM3kD42skhsawzMF-EAcBjKmSIuZPSkgrK4AIFoCgwF9AMDUvaKC9t5jhj0okAAMrYAg5EiL2HiFADwEptjVOIqRWgzSxRgGaWeMAnN7J0TdI5F8KkzDkDgnAOwlh-QZH8vFforAsj6xpk_FIVxUChCIIEI4fkwrDNmWwBZmA4IlXYGsjZ0ztm7IsP2fZtAegeCuHnZa-jWCUHpiPE508oCTTWQkS5fY5kLK9sKVZ6zNmTR2c5K5ALbkxCPAIe8IKzlbPYBC_01Y3ZoklEKXR9yppPNWi8rgSxDnwURZshmK4Ji2FDJvZZk0SWJBUszKlcAcAMvpfOeCTKawspwECqYfkGXcosLy2FGR7wcqOcK_E1LyAeEmnK7lVtqwolIZNPuzsaw4mFiMD45IBCTKPPsCMoqpnwvQB-SlBI1ZmolRcq11KuhLIKJNXlQr1jyD-QlCi6r8UzOZtqk4urRnigNVM41pq4X3ktUzXlTrW50vNH5LUWQcCNRGOjc0MrWX8qVX8qeR5fUY01SK61_LJoptoGm0YwNpWBtGHq0NhqYARutWK81MbmYQGaCa61cqKUn0jeKnIfl626u0c21tsqPBLDjbSgonbvEepUsqhG9o0C0AEMjSqOoZgUzsJqqIaz4i_SuF4Sg5JUBKhCZIdggB6M0AGQqgBcJUANOagA0ZUAOZGgAZCPWIKBIBQGh6AEPMqAp6PlIuvY8dggA7eMAEfRgAQt0AC-pgAUtMANfWgAlzzMMqxS8wTnCBwX5CMOBiOuCCvcEIqBEgLz9YS9AKkI6NVIas_DRb9Fr12WuscQHt3dDFGzfxAA1eIDJGCWCJusLhBQz3CEvdyjIQgBBgbPAIBT3K96uDA5YblMjwF4dIdy9OzH9PrHbX_FcqqyF6ZmNKgtvVGPWZXN6oiRmHPVk9Vh5ynHjgwGRtPKUH0KYaRSeQRgYp6So0mkiBsuUQpTWIzgUjKRyNImoxjaCMpqShfgH5sQddMB3CuEUugmBSkVLcn5BeddSH7quLu_dk015xQ5FcPj7MhNQBE2FnL_rCyoDcp7VptcfYEH9lnIiQdaBZf46gdrnXsuozEA2Et7BJPJUNPEIih8dMucPoZqzh9TM9erhESz9nD4s2y0eHbusnN2fw4fJQHrF0R3be3GAHTRNmvechJGaBsgNh-z5v7FrtOuSmFQZCAqNIdJDs9sHnBVJQ4ojD1EDIY3rAot03pOiNUrghzQD4fQwxTEMX5Pq0q0AvEJypl0flUcwBs6Oc-uOT744INT4nRiyfSvc254lMA7jo_RfDizb3akJAaTsR5xa8dtAJ70GnmZSf9WlVBwAoHaABM0wAhdGADfTQAFmorm7VNdtHP9ADrNibhXxO-UndrSuCJFhtElwxtNdg8W4BLHk0KVZMAxjKYU4-Cz8wRLlxW_HJKKz1tQCsRPRdSh54Nz-RHW7Yu6mS-2NLtjsvIem6V9zlcUHABBZoAHQVdcG6Zkbk1Zrc8EHN3rS3RPjy3bt2E8zo5nf6Nd-7z3KnvcnN9-wf32L2i3ZD7HcPUmo8x45HHiuifIW9bcrZ1PEvGmZ_E0zKDgAjA0ALCaZfDc9ob4r2vR2eXV6t8eWzLfmYRPj9RpP8P04r_qWvojJGyNXBSw3GXm_b2ADsPQAXflABYOUACx5QAFfjAA9tUAGqIwANeVAAI23g0AGW_QAHPNZc-sph05HBIcFU5d2cL8aBpUndtZVou9iMPcw835I96clpF0LtptDRUA38EsyMvELA1ZNhGD1Mf8d5K9MDcDfJXo2ca868d4iCXcoJu8o5SJx9KCrhkZo9uhY9pUb9P4_FzB1NlClpdYPhohuYvctkN8eCe0-DsCXo_IhD8CT9lszYxDO8JCyCe8FMZCI85CNtFCZ9NCLAHc9Y1DoRe8BBNCJ4lV-dBcH90CEdN0QNgtn909u5mZ_ALI4t38ks_VrDF8MDkIsDMxzDcCa9NDK8ABCarL6VlI9UIXsOeAoynPAxvGgEQvWVwEYVuDIxg-LCMRLWeMeajWgpdE-SvCw2ogVV6Ewuo0_ZmKDQAK-VX031AAs7X10ABh_oAwAAH0X1ddP4j9Oc_JnQxhm0BB18IiMgoic5yAmCOjQ9ijXIcA_1mEZxANIjex_BwNyU_kzYoNAAgzWQMAD7owAO39AAwuXYDKPiHmMAEwlQADbzAAS6OWNWJ10_kr2qJr3YCuj2D3RKPFncHKKgHqLNnhMsMmnkKIk8P4nnCsTSPGNvRWLWJoTPzhRrxpXpCPGvxdm8K8Pt0PndguL6yuIvRuJSDuMOPiCWA5NKPRIFInGQgPnWCF1dkf3nHDxiLXxXFOJYO4L1ig0ACY0wAI2tAAoOUAEJrQAB1NAA7Y0gN1gGOPy5xV11kryFK5P_VuKAxAyxJrEKOtMBMxLGNVNvQ-MAEhzPsbkgoeYtXQAMBddT4N98qTHdbceiVCqSN1-SoBgslSUjAjoQFD3SLAoNAAXt0AFLjQABfif0qT04mD2iyMR4uiG4ozUJWSVx3Z05BSUTLjriAN7T4gJTqwpT0jVgU4vkxsYBxcX8pcWdmZTTOdldycC9b0JghAxh3A_CFM28dFiCpp7C-VHC-9tjB9_DHwdNshXxnDJ98T3DZ8E92zMcektgdFFT4sOjP9KNUss8-ie1rTGy7T7i3TSSDjgN4gEyKy0JiTuhnT6zOTXTHT0zb1szAAeBXzJ3kLLaI6NLOPJ_IX2Zl8MHPDlyNxNHMJIs0ZJvx5zZJdJFKgDrP3RtJ5L5M_KIrFK4g_KOIslbIsHbN8OW1W0jxrhwBYsPn0KuDYv0MPnU24sGzZWji23cEkV22QiuAIuPS-SRKfL9JfLjL-n1npO6CuE4XDwOzNTMxPgs3O2UvWVrhuzCE2yrLcxXViSUBABam2FcDSENmoEAl0BAgMDAk1X4FQG9EZCQHYH4B-GLGqAyHNB_DJC8rrn4FYAyHyGoH4CuH4DChwHirCjqnWH4HKAsQgEApip8pAE0k2jwlgGhCwG9BCu8zJEoESFzDyBdVNElHND8r-FLGSurH4CWSyv4HSUNiaosFSoF2K3hAgHgCyuW34BqtEG8v4AAD0KEcAAAOHADKLqmsfgCSNqkACapMHAAAJnir6kWu6sEE1EtEiFWqmoylmvmv4A9SwziX8u8A-GoEgBSHstQEcpyVAhAGJhAFoB9CyBit8tNFoHNFGvNFmBmH4HkAUHCSAA",mdxType:"Playground"},function(){return Object(c.b)(function(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(g.a)(function(){return fetch("https://randomuser.me/api?id=".concat(n)).then(function(e){return e.json()})},[n]),u=s.data,b=s.loading,m=s.cancel,d=s.run,j=Object(o.useMemo)(function(){return(((u||{}).results||[])[0]||{}).email},[u]);return Object(c.b)(l.a.Fragment,null,Object(c.b)(A.a,{spinning:b,mdxType:"Spin"},Object(c.b)("div",null,"id: ",n)," ",Object(c.b)("div",null,"email: ",j)),Object(c.b)(i.a.Group,{style:{marginTop:16}},Object(c.b)(i.a,{onClick:d,mdxType:"Button"},"reload"),Object(c.b)(i.a,{onClick:m,mdxType:"Button"},"cancel"),Object(c.b)(i.a,{onClick:function(){return a(function(e){return e+1})},mdxType:"Button"},"increase id")))},{mdxType:"Demo"})}),Object(c.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(c.b)(u.c,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:u.c,useState:o.useState,useMemo:o.useMemo,Button:i.a,Spin:A.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoHR4ncZrCwugIPpzDAUdZojYpCFue5HkyDBIgogQcCPSRZggYoORwCY6AjLo7EJid4H_OBqGBt9GYsSGScND6KfYLVqMoOndYsUaCPQaJXCWKBKA7AoljiPT5yWNFzDQvyzJ0vSIwJ1aqZpqBgaWABtABdJZ6a1rWolQUJ4iuVEGTimPtc1tOLehIPJooqiaKjBmY_9qa_at0j2AAH0r1j5GlhXQlRuxq_YCOOVDsLw6rmvgDrnBqNcaBU7TixQ_L1xI7N9g4aLmtmdZzGR4TI6l9rHi-OatBVJnHa7YdmdDoH6ArmAI-oHkKR19QFel8YdibmZah7CgWJth2920K22AdqgwLgssSgMwrh9QyqhQ6U8Y7swILNCBNYpD304jfGOUgkE1gzozSGMd54CHMIwI2NF2CbhXPITBtZJDY1hmYL8IA4DGVMkRcyelJBWVwAQLQFBgL6AYGpe0UEjbzHDHpRIAAZWwBByJEXsPEKAHgJTbAkcRUitAFFijAAos8YB2b2Tom6RyL4VJmHIHBOAdhLD8gyP5eK_RWBZGVjTbeKQrjxyIIEI4fkwoGKsWwWxmA4IlXYM41xk0PHOQsP2bxtAegeCuH7ZaStWCUC4MtGu8cEiTVSVATxYTrG2JRK4YUTjQguIse4rJfYcmRJiEeAQ95CnFLcewEJ_pqwWzRJKIUEZyDRKmnE1aCSuBLF8fBOprjlrRxrBMWwoYj4OMmkMxIKlGaTLgDgeZcz5zwUWRMgkOA8n2j8vMrZFhlky3MTUnIByNkLJXCcrpk0ulbJ1tWFEgDJol3GRYHEgsRgfHJAIMxR59gRhOVUjI94Pw3J2aC85wSjn4imV0exBRJonMOeseQZSEoUTeb0yxjMvknB-UY8U_zzFApBWc8FcKTmIsHrM80fktRZBwI1EY6NzTwpWXsggjyykNyPDijGHzOW7NIvsw2zLWXAzhQS0YvySUApgOSqFlL0AQoZhAZowKdldLGbrCl1T7yTVlT8oiBBFXKqmV0pYNKZkFHVRg9FKknkI3tGgWgAhkaVR1DMCmdhxlxwTlAX6VwvCUHJKgJUhDJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIR6xBQJAKA0PQAgbHBpGRkKNjx2CADt4wAR9GABC3QAL6mABS0wA19aACXPMwTzFLzACcIGYbycADvySke4IRUCJDbhjfp6AVJZ0aoApxvbBVK17p411Y5C1eu6GKFmOCABq8QGSMEsETdYe8kqOPYGGiNWyMhCAECG9gZ4BB3q2ePB9lgtnOwRFABdgCtnu1_TMLZ0KT4rheUAntf6Vz8t6nOoDK4sVEUA7yjtzk13HBgMjRuUp9ZfQ0ow8gjAxT0lRpNJEDZcohSmgOnAQ6R1IgnUraCMpqREfgNhsQw9MB3CuPwugmAhGiLcn5COw9AF-quD6v1k1e5xQ5FcbdrN91QEPcRjjeLCyoDcqHPJyjNqji7l7IiJEshsZ3agZTqn2OozEA2YVZ6ChXGRlAIiw9zbuG_YBtzE5kJeZuWc0Ds9wN-dnjBkLMdEOwd7d5pQ6KHWabctC3ORFVFHrOVXXI4ZIDOnQA2ZCSM0DZHi1nKgyEphGZgKoiMYViuuXXeOCrVXk4wHVesCiGitEEFiUKlcpWaAfD6GGKYABqPyfU4VoBeAN59Lo_LNbhdg8w7zdZ9YINNob7BRv9ThRi9FgyYB3Fay0urm0Ih9oq1IhIsidjdeXb1to_XegzczFt8bK4K2AFA7QAJmmAELowAb6aAAs1FcmqprQvW_oPVs8wdPaG6KwB0riFgdHBGRWq1prsBo3AJYt6hROJgGMJ9d7HzgfmCJDktt7bnqc_EIiS14tKFbuHI75sTuReSzAS7Mi5G3ZPQzVb4OXtjbhRWwAQWaAB0Ff7QONVauh4NiHGmllnIF2tyLCOGakIsGalHGN0eY-x8-3HAT8ePoNwIR8kWycU_3he5ztO6707DkzspWcYPs859d7YPOFfRvYIAIwNACwmpL4HMulcw_l8K45oe5f9Zg2rx11YGdt2dyd92bvpEe79jRujVwGNM56wzCtgA7D0ALvygBYOUAFjygAV-MAHtqgBqiMAGvKgAI21rYAZb9AA55vdrTUx3aODK_ch7a2w80DhVr1HU0oJ6_YA55K4w0TdHtwt0cC8wCoAjFnoKcB0E1hlpsVf4988jxB_LZCvfMwvT8vzofBBIer1HzrifA6sfHGtlbqnhoafz45PFmOGutaLef6RHCunLrB8NEJzDjm4rzoflqj3gPr5K9JftHtft7jHHfkrLro_vrneq_o5u_i5p_t_lrL_ozP_hAUAUtI8vtodsnl3pwIWsWgRmnldtziuP4BZNRoOhvrihHglt3ifnARfgPsruQUfgAITiZfQrKBq9gtyiGTaD5IE35pyuAjCDx8Gr40YRh0bdyM5f7kHEGcBaqIHPblavSwFlZKExwVqABXyimqmoAFnagOgAMP-l6AAA-smv9lPLLiYeksboqmbiXO6hkAwT7OQGvpwcOuTnsL6pITgLmi_DOAWh6sWiEHYIEhkMzmnBWoAEGabegAfdGAB2_oAGFy7A0hUAThgAmEqAAbeYACXRbhHhf2U8R-8hyu7AV00Rfqos7gQalhacLRV-k0tuMA5B2s0I-BKBWsFa7hnhs8iu1Syu0y9IR4ceacBhv-sWDMocEhrkcR4aCRKQSRwR8QSw2xWmXR8cxxPmqAk81YmRLu84lOTBXON2K44RtGXBB-kxMagATGmABG1oAFBygAhNaAAOpoAHbGNeK2QhAxr2IhWqpxKy8R-a9B8QvRjMYh8J5xPRExjMORbegAkOZ9h7EFBOEfaABgLkCbWkHrMTWOBisT_k0ciVAARm8XRoQaMfOLTjwRYBWoAC9ugApcaAAL8dmtSe7G8VoRvjoW3GyahMQt5qHO7CcTETsYiYkYyTcRYHcSdl-vOE8RnstnzlCUgZtkLu9jGhMEIGMO4NCKbkjl1mPhgbslgYbs6ATqbo-NqbAJblPpTrgUMXTpQboWUu1polsF1q8evsOjnmOoxlAVrEfhiSqQcYyaiTWEEUWvEMydKWhByd0OiUqWcWUSmdyTGvyYADwKwpI8opmh2hLcUp-hoSf-S-OCPSnxMcxhG2MJU8tJWZO2cpGJZRipnRiZhx6ZUAbsyESwaZIRFk6p08fKTZ5g9mPpM-umf40-KQ3mEBVwq5_cpu3m4825Sif4483mHp3mAGHRsRZRbR10CZRJqpyRvY_0ruVwXQZ63mIGEx4G3mTM7GR4P5fYYQrmspTqqGqA1CLU2wrgaQqs1AgEugIEBgYE4y_AqA3ojISA7A_APwxY1QGQ5oP4ZIGFw8_ArAGQ-Q1A_AVw_AYUOAtFYUdU6w_A5Q5A_Q-ZVFWFIAmkm0eEsA0IWA3oRFGGZIlAiQuYeQyKpoko5oOFfwpYjF1Y_A9iHF_ALCqsClFgzFB2_G8IEA8AHFwq_AUlogmF_AAAeiAjgAABw4AZQaU1j8ASQqUgBmVJg4AABMtFfU9lmlggmolokQzlFlGU1ltl_A6KHa1CuF3gHw1AkAKQsF4F2gCFXCyF_AtAPoWQVF2FpotA5oxl5oswMw_A8gCgJCQAA",mdxType:"Playground"},function(){return Object(c.b)(function(){var e=Object(g.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0}),t=e.data,n=e.loading,a=(e.cancel,e.run),r=Object(o.useMemo)(function(){return(((t||{}).results||[])[0]||{}).email},[t]);return Object(c.b)(l.a.Fragment,null,Object(c.b)(A.a,{spinning:n,mdxType:"Spin"},"email: ",r),Object(c.b)(i.a,{onClick:a,style:{marginTop:16},mdxType:"Button"},"fetch"))},{mdxType:"Demo"})}),Object(c.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(c.b)(u.c,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:u.c,useState:o.useState,useMemo:o.useMemo,Button:i.a,Spin:A.a,useAsync:g.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoHR4ncZrCwugIPpzDAUdZojYpCFue5HkyDBIgogQcCPSRZggYoORwCY6AjLo7EJid4H_OBqGBt9GYsSGScND6KfYLVqMoOndYsUaCPQaJXCWKBKA7AolhiI8BCWNFzDQvyzJ0vSIwJ1aqZpqBgaWABtABdJZ6a1rWolQUJ4iuVEGTimPGcFBICgaPQBFYRPIrCwvU7T-RNbTi3oSDyaKKomiowZmP_amv2rdI9gAB929Y0vQ3gUJUbsTv2AjjlQ7C8OO674Ae-o1xoGLtPh9b1xI7N9g4YbmtmdZzHF4TI699rHi-OatBVJnHa7YdmdDtn6ArmAO-oHkKRj9QA-98YdibmoHAAHEkIzE2opWAO0oKBWCpYSgMwrh9QyqhQ6a8Y5fw4syag9goCxG2Dtd2h0USuHtBnTBM4pDf04h_Q-KCf7mHQZgnYO1nYZBwAlCih0WFEVIag9-SCtZUM4nsVAGCsEMP5EwlE0C8ERBmJw6hFDP5kLQYIuh2DgCMJFgrUIR5DoaKPDI8hPDtwKNQP_QBcjGZSDMevXWkMY7bwEOYRgRsaLsE3CueQNjaySGxrDMwX4QBwGMqZIi5k9KSCsrgAgWgKDAX0AwNS9ooJG3mOGPSiQAAytgCDkSIvYeIUAPASm2Nk4ipFaDFLFGAYpZ4wDs3snRN0jkXwqTMOQOCcA7CWFEUcaOfZ-h51oMrGm58UhXHjkQQIRw_JhWafFPpWRjjzngqMzREzJrTOchYfsbB5nkA8FcP2y0lasEoFwZaXd44JEmhcqAMzNlzIGfg4UyzxkZDWbc3p2yBlqPvM81ZUz3kWzRJKIUEZdn7MOatY5XAliYDgiVdgYyJnLR6RYCYthe5DIKJNWF8EVKMzRXAHAOLkh-WJXimsBKcCPKmKSxZiRyWooJDLLp95sV0oZfidFuzJq7PJTras4igF-SbiivMqhRgfHJAITpR59gRkpd89AH4VwKpZTkf5KqmVdExTOSalKyXrHkO89h3RhUQv8gzHEgsRiSvFNK0RcrVUu3vMqhmlLtVz2Gewc0fktRZBwI1EY6NzScsJdSvl7ydGmqmua0VlLqWTT9bQANoxgYcqtScG1rS7UypgI6plirXWMwgM0eVTLdnIt1k6jIrK_IZolURAgub81co8E7LVd9hlFprB4o1Zh-UI3tGgWgAhkaVR1DMCmdgelxwTlAX6VwvCUHJKgJULjJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIR6wiFZxznnedvyMhrseOwQAdvGACPowAIW6ABfUwAKWmAGvrQAS579ucopeYCLhBCqmjgSDBCUj3BCKgRII8MZQvQCpCujVoGjLA5NEVfb_TOiwGJYdGQx3dDFCzexAA1eIDJGCWCJusK-SURnsCXSu8lGQhACAXewM8AhOPkuXtxyw5K4h6XnJh6B5L3YSZmOStRD8VyCpkxyqNymVwmrU9WXDA6COIxgMjfuUp9ZfQ0iE8gjAxT0lRpNJEDZcohQg1BoKsGkSIaVtBGU1ILN91RmIYumA7hXCSXQTAqSMluT8hHYu0Cp1XAnVOya084ociuGR1mVGoA0cs4Z-j1YK6h3wWUzao4J5eyIiRLI3nyOoAy1lnzBAxANlFYxgoVxkZQCIgvVYYmoAya69J0D0CuvyYtTHJTg2ZhdaZn3I8fXdYaYm11pQhru0VzUdXIiFTaNdI7rkcMkBnToAbMhJGaBsirdclMKgyEaUaQqRGMKF3UBuTQOOMrMB7vJxgK69YFFqm1IIAcjGorrs0A-H0MMUwADUfk-octewQcHfGXR-S-yp0cO8RW61B4j3oyPMww_6hy3D2sYUwDuD9vLl3gHQI2zAXJCQCk7CB0rEHbQwd48h-wQncOVyPsAKB2gATNMAIXRgA300ABZqK4S1TTUUjyHlbN6y858eQVaa3GKdHBGRWq1prsEg1SpYHGhSjJgGMXjnHHyCvmCJDktt7ZMba_EIiS1u1KGHuHSn5tqcmrpwz_JhSWe5cZjjuXLoeccsfYAILNAA6CmLyXDNpfyq6aHmgCuY5K4h8eE1auGYeIsI2rXGNdf67gIbvjxuEWm54-XgQj4TU27t9fZj7Xnel1d2HD3ALqdRt93kpn2xA-jZrI-wARgaAFhNOPUvS0Z_xwQNPWsZ-Q97vSI8OfGa9o757wsz2pju174zgPEZ9fQZc_BtzQfh8bsAHYegBd-UALBygAseUACvxgA9tUANURgA15UABG2b7ADLfoAHPMVwK53ZHAbseV2dcdM8aAOUC9tcpooIS9G8Hdxg0Rug290dqtDRUAj8nMYMy5GYZZNhsDl5gc15E8QCIDfJXoQ9ldU8h9F5YCi8EDINS9jhrYkDWtDQnc0CORu0Y488tY7FzBl4OVtZ8CawPhohOYjdJkL8Y5yDkJQDMwXo_IaCoC596C05GClZi8WCy9OMODkouCOseC-CtYBDGYhDoQa9RClo-UycKcu8d9OBr14gzN99_dmcVx_ALJHMcAT9Y1sdu9FDKDVCICU8CBbDE8ABCGLL6QlWdXsIeaIhHCI-fGOVwEYOeXfZCHAnACME_Sed3Xg2wiwzgUtNQ2fKgvyCgm7dIrWR9QAK-UD1D1AAs7Ql0ABh_u_QAAH190xc15F8UdK8xhc1a8m4iNc43CfZyA8iAilg4jXJmFl1iEUhs4R0b0Qg7BEUMgt8Y5H1AAgzX_0AD7owAO39AAwuXYESKgA6MAEwlQADbzAAS6J6L6NFzINLVSNoKmCuj2EnXiNFncDnXqPkNUkgKqL8hbxgFsO1mhBMM0L2I3V6P6M3nxWT0-OX00RgDXxLmsTcS61DgWOeyWMzhnDWIyBvXmN-MWKuLdmQlXmrC32APnHtw8P73rkZlmOc0CM3kfUACY0wAI2tAAoOUAEJrQAB1NAA7Y1fyCJuwiO51hyiNLQJMJUvRJNcKgCBJrBiMVP-PjniHVMZgOP_0AEhzPsZYgoDo_nQAMBdhS31J9kSaxVczD18yDVSzMOS8DSiYTndRV9SN1AAXt0AFLjQABfjz07T3Y8iCjnMiiR5HTUJcSVxQ53YKSp0iSVjSTJioA6SLAGTqdRMEQoAWTD8uTg9wjPjZSic-cN0JghAxh3BrDOMNdAc4DdCDc6yK9nQzca9Hxcz5xshXxDDm9uCXd7Dij3k_sakthAcVw3TT8EMPdSDN5E8tTlTVjVS9SXD1ipiLIsT19PTuhNTKTCSri1zH0AzAAeBRDMXjDP1wjJgyjI9xjP5VsQx3sRjXnMXkqK53DzXgdNKOJzxK1OpJ-OTOXLTPJInGQiWAmJvTM0zPXkjWfPMGa3t04MKz_BaxnC6xkKuFQpwBkK62XmwtKT_GXi627KgH62QiuAAoBN7G-KXNNJVI3PzP-h7yuC6EY2Gy6QU03kFSm2VhXxgD4pNSW2Lm018SUBABam2FcDSFVmoEAl0BAgMDAh6X4FQG9EZCQHYH4B-GLGqAyHNB_DJE0uLn4FYAyHyGoH4CuH4DChwDsrCjqnWH4HKHIH6APOsu0pAE0k2jwlgGhCwG9GMoWTJEoESFzDyCxVNElHNF0r-FLCcurH4CGU8v4HCVVkSosBcvJxC3hAgHgE8tFX4GitEC0v4AAD04EcAAAOHADKTKmsfgCSVKkAcqpMHAAAJjsr6gaqysEE1EtEiBasqoyhqrqv4ENX7T8T0u8A-GoEgBSDktQAUpiVAhAGJhAFoB9CyGsp0tNFoHNBKvNFmBmH4HkAUHcSAA",mdxType:"Playground"},function(){return Object(c.b)(function(){var e=Object(g.a)(function(){return fetch("https://randomuser.me/api").then(function(e){return e.json()})},[],{manual:!0,pollingInterval:3e3}),t=e.data,n=e.loading,a=e.timer,r=e.run,s=Object(o.useMemo)(function(){return(((t||{}).results||[])[0]||{}).email},[t]);return Object(c.b)(l.a.Fragment,null,Object(c.b)(A.a,{spinning:n,mdxType:"Spin"},"email: ",s),Object(c.b)(i.a.Group,{style:{marginTop:16}},Object(c.b)(i.a,{onClick:r,mdxType:"Button"},"start polling"),Object(c.b)(i.a,{onClick:a.pause,mdxType:"Button"},"pause"),Object(c.b)(i.a,{onClick:a.stop,mdxType:"Button"},"stop"),Object(c.b)(i.a,{onClick:a.resume,mdxType:"Button"},"resume")))},{mdxType:"Demo"})}),Object(c.b)("h2",{id:"api"},"API"),Object(c.b)("pre",null,Object(c.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(c.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(c.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"any)=> Promise"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(c.b)("h3",{id:"options"},"Options"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),d.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/regenerator/index.js"),r=n.n(a),A=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/toConsumableArray.js"),i=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/defineProperty.js"),o=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/slicedToArray.js"),l=n("./node_modules/_@babel_runtime@7.5.5@@babel/runtime/helpers/esm/classCallCheck.js"),c=n("react");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function e(t,n){var a=this;Object(l.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(a.timerId),a.timerId=0,a.remaining=a.delay},this.pause=function(){window.clearTimeout(a.timerId),a.remaining-=Date.now()-a.start},this.resume=function(){a.start=Date.now(),window.clearTimeout(a.timerId),a.cb&&(a.timerId=window.setTimeout(a.cb,a.remaining))},this.remaining=n,this.delay=n,this.start=n,this.timerId=n,this.cb=t};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var m=function(){};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(c.useState)({loading:!1,cancel:m,run:m,timer:{stop:m,resume:m,pause:m}}),s=Object(o.a)(a,2),l=s[0],u=s[1],d=Object(c.useRef)(void 0),j=Object(c.useRef)(0),O=Object(c.useRef)(!0);Object(c.useEffect)(function(){return j.current+=1,O.current=!0,function(){j.current+=1}},t);var p=Object(c.useCallback)(function(){j.current+=1,d.current&&d.current.stop(),u(function(e){return g({},e,{error:new Error("stopped"),loading:!1})})},[]),B=Object(c.useCallback)(function(){j.current+=1,d.current&&d.current.pause(),u(function(e){return g({},e,{error:new Error("paused"),loading:!1})})},[]),C=Object(c.useCallback)(function(){d.current&&d.current.resume()},[]),h=Object(c.useCallback)(function(){var t=j.current;return u(function(e){return g({},e,{loading:!0})}),e.apply(void 0,arguments).then(function(e){return t===j.current&&u(function(t){return g({},t,{data:e,loading:!1})}),e}).catch(function(e){return t===j.current&&u(function(t){return g({},t,{error:e,loading:!1})}),e})},t),E=Object(c.useCallback)(Object(i.a)(r.a.mark(function e(){var t,a,i,s,o=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,a=new Array(t),i=0;i<t;i++)a[i]=o[i];if(s=j.current,n.manual&&O.current){e.next=5;break}return e.next=5,h.apply(void 0,Object(A.a)(a||[]));case 5:j.current===s&&(d.current=new b(function(){return E.apply(void 0,a)},n.pollingInterval),O.current&&n.manual?O.current=!1:d.current.resume());case 6:case"end":return e.stop()}},e)})),[n.pollingInterval,n.manual,h]),I=Object(c.useCallback)(function(){j.current+=1;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n.pollingInterval?(n.manual||p(),E.apply(void 0,t)):h.apply(void 0,Object(A.a)(t||[]))},[h,n.pollingInterval]),y=Object(c.useCallback)(function(){j.current+=1,u(function(e){return g({},e,{error:new Error("canceled"),loading:!1})})},[]);return Object(c.useEffect)(function(){if(n.pollingInterval)E();else if(!n.manual){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];h.apply(void 0,Object(A.a)(t||[]))}return function(){j.current+=1,p()}},[n.manual,n.pollingInterval,h,E]),{loading:l.loading,error:l.error,data:l.data,cancel:y,run:n.manual&&n.pollingInterval?C:I,timer:{stop:p,resume:C,pause:B}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);